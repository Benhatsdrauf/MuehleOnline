(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();const app="";function noop(){}const identity=t=>t;function assign(t,e){for(const r in e)t[r]=e[r];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return typeof t=="function"}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let src_url_equal_anchor;function src_url_equal(t,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,t===src_url_equal_anchor.href}function is_empty(t){return Object.keys(t).length===0}function subscribe(t,...e){if(t==null)return noop;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(t){let e;return subscribe(t,r=>e=r)(),e}function component_subscribe(t,e,r){t.$$.on_destroy.push(subscribe(e,r))}function create_slot(t,e,r,n){if(t){const i=get_slot_context(t,e,r,n);return t[0](i)}}function get_slot_context(t,e,r,n){return t[1]&&n?assign(r.ctx.slice(),t[1](n(e))):r.ctx}function get_slot_changes(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const c=[],l=Math.max(e.dirty.length,i.length);for(let f=0;f<l;f+=1)c[f]=e.dirty[f]|i[f];return c}return e.dirty|i}return e.dirty}function update_slot_base(t,e,r,n,i,c){if(i){const l=get_slot_context(e,r,n,c);t.p(l,i)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function exclude_internal_props(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function compute_rest_props(t,e){const r={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(r[n]=t[n]);return r}const is_client=typeof window<"u";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?t=>requestAnimationFrame(t):noop;const tasks=new Set;function run_tasks(t){tasks.forEach(e=>{e.c(t)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop(t){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(r=>{tasks.add(e={c:t,f:r})}),abort(){tasks.delete(e)}}}function append(t,e){t.appendChild(e)}function get_root_for_style(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function append_empty_stylesheet(t){const e=element("style");return append_stylesheet(get_root_for_style(t),e),e.sheet}function append_stylesheet(t,e){return append(t.head||t,e),e.sheet}function insert(t,e,r){t.insertBefore(e,r||null)}function detach(t){t.parentNode&&t.parentNode.removeChild(t)}function destroy_each(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function attr(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function set_attributes(t,e){const r=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:r[n]&&r[n].set?t[n]=e[n]:attr(t,n,e[n])}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function set_input_value(t,e){t.value=e==null?"":e}function set_style(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function toggle_class(t,e,r){t.classList[r?"add":"remove"](e)}function custom_event(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r,n,e),i}function construct_svelte_component(t,e){return new t(e)}const managed_styles=new Map;let active=0;function hash$1(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function create_style_information(t,e){const r={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(t,r),r}function create_rule(t,e,r,n,i,c,l,f=0){const p=16.666/n;let _=`{
`;for(let S=0;S<=1;S+=p){const w=e+(r-e)*c(S);_+=S*100+`%{${l(w,1-w)}}
`}const m=_+`100% {${l(r,1-r)}}
}`,d=`__svelte_${hash$1(m)}_${f}`,y=get_root_for_style(t),{stylesheet:v,rules:b}=managed_styles.get(y)||create_style_information(y,t);b[d]||(b[d]=!0,v.insertRule(`@keyframes ${d} ${m}`,v.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${d} ${n}ms linear ${i}ms 1 both`,active+=1,d}function delete_rule(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?c=>c.indexOf(e)<0:c=>c.indexOf("__svelte")===-1),i=r.length-n.length;i&&(t.style.animation=n.join(", "),active-=i,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&detach(e)}),managed_styles.clear())})}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function createEventDispatcher(){const t=get_current_component();return(e,r,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const c=custom_event(e,r,{cancelable:n});return i.slice().forEach(l=>{l.call(t,c)}),!c.defaultPrevented}return!0}}function setContext(t,e){return get_current_component().$$.context.set(t,e),e}function getContext(t){return get_current_component().$$.context.get(t)}function bubble(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(t){render_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){const t=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const r=render_callbacks[e];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(t.fragment!==null){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(t,e,r){t.dispatchEvent(custom_event(`${e?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,r,n){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push(()=>{outroing.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}const null_transition={duration:0};function create_in_transition(t,e,r){let n=e(t,r),i=!1,c,l,f=0;function p(){c&&delete_rule(t,c)}function _(){const{delay:d=0,duration:y=300,easing:v=identity,tick:b=noop,css:k}=n||null_transition;k&&(c=create_rule(t,0,1,y,d,v,k,f++)),b(0,1);const S=now()+d,w=S+y;l&&l.abort(),i=!0,add_render_callback(()=>dispatch(t,!0,"start")),l=loop(T=>{if(i){if(T>=w)return b(1,0),dispatch(t,!0,"end"),p(),i=!1;if(T>=S){const A=v((T-S)/y);b(A,1-A)}}return i})}let m=!1;return{start(){m||(m=!0,delete_rule(t),is_function(n)?(n=n(),wait().then(_)):_())},invalidate(){m=!1},end(){i&&(p(),i=!1)}}}function create_out_transition(t,e,r){let n=e(t,r),i=!0,c;const l=outros;l.r+=1;function f(){const{delay:p=0,duration:_=300,easing:m=identity,tick:d=noop,css:y}=n||null_transition;y&&(c=create_rule(t,1,0,_,p,m,y));const v=now()+p,b=v+_;add_render_callback(()=>dispatch(t,!1,"start")),loop(k=>{if(i){if(k>=b)return d(0,1),dispatch(t,!1,"end"),--l.r||run_all(l.c),!1;if(k>=v){const S=m((k-v)/_);d(1-S,S)}}return i})}return is_function(n)?wait().then(()=>{n=n(),f()}):f(),{end(p){p&&n.tick&&n.tick(1,0),i&&(c&&delete_rule(t,c),i=!1)}}}function destroy_block(t,e){t.d(1),e.delete(t.key)}function outro_and_destroy_block(t,e){transition_out(t,1,1,()=>{e.delete(t.key)})}function update_keyed_each(t,e,r,n,i,c,l,f,p,_,m,d){let y=t.length,v=c.length,b=y;const k={};for(;b--;)k[t[b].key]=b;const S=[],w=new Map,T=new Map;for(b=v;b--;){const H=d(i,c,b),F=r(H);let I=l.get(F);I?n&&I.p(H,e):(I=_(F,H),I.c()),w.set(F,S[b]=I),F in k&&T.set(F,Math.abs(b-k[F]))}const A=new Set,L=new Set;function x(H){transition_in(H,1),H.m(f,m),l.set(H.key,H),m=H.first,v--}for(;y&&v;){const H=S[v-1],F=t[y-1],I=H.key,z=F.key;H===F?(m=H.first,y--,v--):w.has(z)?!l.has(I)||A.has(I)?x(H):L.has(z)?y--:T.get(I)>T.get(z)?(L.add(I),x(H)):(A.add(z),y--):(p(F,l),y--)}for(;y--;){const H=t[y];w.has(H.key)||p(H,l)}for(;v;)x(S[v-1]);return S}function get_spread_update(t,e){const r={},n={},i={$$scope:1};let c=t.length;for(;c--;){const l=t[c],f=e[c];if(f){for(const p in l)p in f||(n[p]=1);for(const p in f)i[p]||(r[p]=f[p],i[p]=1);t[c]=f}else for(const p in l)i[p]=1}for(const l in n)l in r||(r[l]=void 0);return r}function get_spread_object(t){return typeof t=="object"&&t!==null?t:{}}function create_component(t){t&&t.c()}function mount_component(t,e,r,n){const{fragment:i,after_update:c}=t.$$;i&&i.m(e,r),n||add_render_callback(()=>{const l=t.$$.on_mount.map(run).filter(is_function);t.$$.on_destroy?t.$$.on_destroy.push(...l):run_all(l),t.$$.on_mount=[]}),c.forEach(add_render_callback)}function destroy_component(t,e){const r=t.$$;r.fragment!==null&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(t,e){t.$$.dirty[0]===-1&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,r,n,i,c,l,f=[-1]){const p=current_component;set_current_component(t);const _=t.$$={fragment:null,ctx:[],props:c,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:blank_object(),dirty:f,skip_bound:!1,root:e.target||p.$$.root};l&&l(_.root);let m=!1;if(_.ctx=r?r(t,e.props||{},(d,y,...v)=>{const b=v.length?v[0]:y;return _.ctx&&i(_.ctx[d],_.ctx[d]=b)&&(!_.skip_bound&&_.bound[d]&&_.bound[d](b),m&&make_dirty(t,d)),y}):[],_.update(),m=!0,run_all(_.before_update),_.fragment=n?n(_.ctx):!1,e.target){if(e.hydrate){const d=children(e.target);_.fragment&&_.fragment.l(d),d.forEach(detach)}else _.fragment&&_.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),flush()}set_current_component(p)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,r){if(!is_function(r))return noop;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const isUndefined=t=>typeof t>"u",isFunction=t=>typeof t=="function",isNumber=t=>typeof t=="number";function createCounter(){let t=0;return()=>t++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR=typeof window>"u";function addListener(t,e,r){return t.addEventListener(e,r),()=>t.removeEventListener(e,r)}const createInlineStyle=(t,e)=>t?{}:{style:e},createMarkerProps=t=>({"aria-hidden":"true",...createInlineStyle(t,"display:none;")}),subscriber_queue=[];function readable(t,e){return{subscribe:writable(t,e).subscribe}}function writable(t,e=noop){let r;const n=new Set;function i(f){if(safe_not_equal(t,f)&&(t=f,r)){const p=!subscriber_queue.length;for(const _ of n)_[1](),subscriber_queue.push(_,t);if(p){for(let _=0;_<subscriber_queue.length;_+=2)subscriber_queue[_][0](subscriber_queue[_+1]);subscriber_queue.length=0}}}function c(f){i(f(t))}function l(f,p=noop){const _=[f,p];return n.add(_),n.size===1&&(r=e(i)||noop),f(t),()=>{n.delete(_),n.size===0&&(r(),r=null)}}return{set:i,update:c,subscribe:l}}function derived(t,e,r){const n=!Array.isArray(t),i=n?[t]:t,c=e.length<2;return readable(r,l=>{let f=!1;const p=[];let _=0,m=noop;const d=()=>{if(_)return;m();const v=e(n?p[0]:p,l);c?l(v):m=is_function(v)?v:noop},y=i.map((v,b)=>subscribe(v,k=>{p[b]=k,_&=~(1<<b),f&&d()},()=>{_|=1<<b}));return f=!0,d(),function(){run_all(y),m()}})}const createKey=t=>`@@svnav-ctx__${t}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,substr=(t,e,r)=>t.substr(e,r),startsWith=(t,e)=>substr(t,0,e.length)===e,isRootSegment=t=>t==="",isDynamic=t=>paramRegex.test(t),isSplat=t=>t[0]==="*",stripSplat=t=>t.replace(/\*.*$/,""),stripSlashes=t=>t.replace(/(^\/+|\/+$)/g,"");function segmentize(t,e=!1){const r=stripSlashes(t).split("/");return e?r.filter(Boolean):r}const addQuery=(t,e)=>t+(e?`?${e}`:""),normalizePath=t=>`/${stripSlashes(t)}`;function join(...t){const e=n=>segmentize(n,!0).join("/"),r=t.map(e).join("/");return normalizePath(r)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=t=>labels[t];function createIdentifier(t,e){let r;return t===ROUTE_ID?r=e.path?`path="${e.path}"`:"default":t===LINK_ID?r=`to="${e.to}"`:t===ROUTER_ID&&(r=`basepath="${e.basepath||""}"`),`<${createLabel(t)} ${r||""} />`}function createMessage(t,e,r,n){const i=r&&createIdentifier(n||t,r),c=i?`

Occurred in: ${i}`:"",l=createLabel(t),f=isFunction(e)?e(l):e;return`<${l}> ${f}${c}`}const createMessageHandler=t=>(...e)=>t(createMessage(...e)),fail=createMessageHandler(t=>{throw new Error(t)}),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(t,e){const r=t.default?0:segmentize(t.fullPath).reduce((n,i)=>{let c=n;return c+=SEGMENT_POINTS,isRootSegment(i)?c+=ROOT_POINTS:isDynamic(i)?c+=DYNAMIC_POINTS:isSplat(i)?c-=SEGMENT_POINTS+SPLAT_PENALTY:c+=STATIC_POINTS,c},0);return{route:t,score:r,index:e}}function rankRoutes(t){return t.map(rankRoute).sort((e,r)=>e.score<r.score?1:e.score>r.score?-1:e.index-r.index)}function pick(t,e){let r,n;const[i]=e.split("?"),c=segmentize(i),l=c[0]==="",f=rankRoutes(t);for(let p=0,_=f.length;p<_;p++){const{route:m}=f[p];let d=!1;const y={},v=w=>({...m,params:y,uri:w});if(m.default){n=v(e);continue}const b=segmentize(m.fullPath),k=Math.max(c.length,b.length);let S=0;for(;S<k;S++){const w=b[S],T=c[S];if(!isUndefined(w)&&isSplat(w)){const L=w==="*"?"*":w.slice(1);y[L]=c.slice(S).map(decodeURIComponent).join("/");break}if(isUndefined(T)){d=!0;break}const A=paramRegex.exec(w);if(A&&!l){const L=decodeURIComponent(T);y[A[1]]=L}else if(w!==T){d=!0;break}}if(!d){r=v(join(...c.slice(0,S)));break}}return r||n||null}function match(t,e){return pick([t],e)}function resolve(t,e){if(startsWith(t,"/"))return t;const[r,n]=t.split("?"),[i]=e.split("?"),c=segmentize(r),l=segmentize(i);if(c[0]==="")return addQuery(i,n);if(!startsWith(c[0],".")){const _=l.concat(c).join("/");return addQuery((i==="/"?"":"/")+_,n)}const f=l.concat(c),p=[];return f.forEach(_=>{_===".."?p.pop():_!=="."&&p.push(_)}),addQuery(`/${p.join("/")}`,n)}function normalizeLocation(t,e){const{pathname:r,hash:n="",search:i="",state:c}=t,l=segmentize(e,!0),f=segmentize(r,!0);for(;l.length;)l[0]!==f[0]&&fail(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${e}", found "${r}"`),l.shift(),f.shift();return{pathname:join(...f),hash:n,search:i,state:c}}const normalizeUrlFragment=t=>t.length===1?"":t,parsePath=t=>{const e=t.indexOf("?"),r=t.indexOf("#"),n=e!==-1,i=r!==-1,c=i?normalizeUrlFragment(substr(t,r)):"",l=i?substr(t,0,r):t,f=n?normalizeUrlFragment(substr(l,e)):"";return{pathname:(n?substr(l,0,e):l)||"/",search:f,hash:c}};function resolveLink(t,e,r){return join(r,resolve(t,e))}function extractBaseUri(t,e){const r=normalizePath(stripSplat(t)),n=segmentize(r,!0),i=segmentize(e,!0).slice(0,n.length),c=match({fullPath:r},join(...i));return c&&c.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function createHistory(t){let e=[],r=getLocation(t),n=POP;const i=(c=e)=>c.forEach(l=>l({location:r,action:n}));return{get location(){return r},listen(c){e.push(c);const l=()=>{r=getLocation(t),n=POP,i([c])};i([c]);const f=addListener(t,"popstate",l);return()=>{f(),e=e.filter(p=>p!==c)}},navigate(c,l){const{state:f={},replace:p=!1}=l||{};if(n=p?REPLACE:PUSH,isNumber(c))l&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=POP,t.history.go(c);else{const _={...f,_key:createGlobalId()};try{t.history[p?"replaceState":"pushState"](_,"",c)}catch{t.location[p?"replace":"assign"](c)}}r=getLocation(t),i()}}}function createStackFrame(t,e){return{...parsePath(e),state:t}}function createMemorySource(t="/"){let e=0,r=[createStackFrame(null,t)];return{get entries(){return r},get location(){return r[e]},addEventListener(){},removeEventListener(){},history:{get state(){return r[e].state},pushState(n,i,c){e++,r=r.slice(0,e),r.push(createStackFrame(n,c))},replaceState(n,i,c){r[e]=createStackFrame(n,c)},go(n){const i=e+n;i<0||i>r.length-1||(e=i)}}}}const canUseDOM=!!(!isSSR&&window.document&&window.document.createElement),isEmbeddedPage=!isSSR&&window.location.origin==="null",globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource());let focusCandidate=null,initialNavigation=!0;function isAbove(t,e){const r=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<r.length;n++){const i=r[n],c=Number(i.dataset.svnavRouter);if(c===t)return!0;if(c===e)return!1}return!1}function pushFocusCandidate(t){(!focusCandidate||t.level>focusCandidate.level||t.level===focusCandidate.level&&isAbove(t.routerId,focusCandidate.routerId))&&(focusCandidate=t)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let r;r=addListener(t,"blur",()=>{t.removeAttribute(e),r()})}return t.focus(),document.activeElement===t}catch{return!1}}function isEndMarker(t,e){return Number(t.dataset.svnavRouteEnd)===e}function isHeading(t){return/^H[1-6]$/i.test(t.tagName)}function query(t,e=document){return e.querySelector(t)}function queryHeading(t){let r=query(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!isEndMarker(r,t);){if(isHeading(r))return r;const n=query("h1,h2,h3,h4,h5,h6",r);if(n)return n;r=r.nextElementSibling}return null}function handleFocus(t){Promise.resolve(get_store_value(t.focusElement)).then(e=>{const r=e||queryHeading(t.id);r||warn(ROUTER_ID,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,ROUTE_ID),!focus(r)&&focus(document.documentElement)})}const createTriggerFocus=(t,e,r)=>(n,i)=>tick().then(()=>{if(!focusCandidate||initialNavigation){initialNavigationOccurred();return}if(n&&handleFocus(focusCandidate.route),t.announcements&&i){const{path:c,fullPath:l,meta:f,params:p,uri:_}=focusCandidate.route,m=t.createAnnouncement({path:c,fullPath:l,meta:f,params:p,uri:_},get_store_value(r));Promise.resolve(m).then(d=>{e.set(d)})}clearFocusCandidate()}),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$7(t){let e,r,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},createInlineStyle(t[6],visuallyHiddenStyle)],i={};for(let c=0;c<n.length;c+=1)i=assign(i,n[c]);return{c(){e=element("div"),r=text(t[0]),set_attributes(e,i)},m(c,l){insert(c,e,l),append(e,r)},p(c,l){l[0]&1&&set_data(r,c[0]),set_attributes(e,i=get_spread_update(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},createInlineStyle(c[6],visuallyHiddenStyle)]))},d(c){c&&detach(e)}}}function create_fragment$l(t){let e,r,n,i,c,l=[createMarkerProps(t[6]),{"data-svnav-router":t[3]}],f={};for(let d=0;d<l.length;d+=1)f=assign(f,l[d]);const p=t[22].default,_=create_slot(p,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&create_if_block$7(t);return{c(){e=element("div"),r=space(),_&&_.c(),n=space(),m&&m.c(),i=empty(),set_attributes(e,f)},m(d,y){insert(d,e,y),insert(d,r,y),_&&_.m(d,y),insert(d,n,y),m&&m.m(d,y),insert(d,i,y),c=!0},p(d,y){set_attributes(e,f=get_spread_update(l,[createMarkerProps(d[6]),{"data-svnav-router":d[3]}])),_&&_.p&&(!c||y[0]&2097152)&&update_slot_base(_,p,d,d[21],c?get_slot_changes(p,d[21],y,null):get_all_dirty_from_scope(d[21]),null),d[2]&&d[4]&&d[1].announcements&&m.p(d,y)},i(d){c||(transition_in(_,d),c=!0)},o(d){transition_out(_,d),c=!1},d(d){d&&detach(e),d&&detach(r),_&&_.d(d),d&&detach(n),m&&m.d(d),d&&detach(i)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$j(t,e,r){let n,i,c,l,f,{$$slots:p={},$$scope:_}=e,{basepath:m=defaultBasepath}=e,{url:d=null}=e,{history:y=globalHistory}=e,{primary:v=!0}=e,{a11y:b={}}=e,{disableInlineStyles:k=!1}=e;const S={createAnnouncement:E=>`Navigated to ${E.uri}`,announcements:!0,...b},w=m,T=normalizePath(m),A=getContext(LOCATION),L=getContext(ROUTER),x=!A,H=createId$1(),F=v&&!(L&&!L.manageFocus),I=writable("");component_subscribe(t,I,E=>r(0,f=E));const z=L?L.disableInlineStyles:k,R=writable([]);component_subscribe(t,R,E=>r(20,l=E));const W=writable(null);component_subscribe(t,W,E=>r(18,i=E));let U=!1;const te=x?0:L.level+1,ie=x?writable((()=>normalizeLocation(isSSR?parsePath(d):y.location,T))()):A;component_subscribe(t,ie,E=>r(17,n=E));const ce=writable(n);component_subscribe(t,ce,E=>r(19,c=E));const he=createTriggerFocus(S,I,ie),fe=E=>V=>V.filter(M=>M.id!==E);function pe(E){if(isSSR){if(U)return;const V=match(E,n.pathname);if(V)return U=!0,V}else R.update(V=>{const M=fe(E.id)(V);return M.push(E),M})}function Z(E){R.update(fe(E))}return!x&&m!==defaultBasepath&&warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),x&&(onMount(()=>y.listen(V=>{const M=normalizeLocation(V.location,T);ce.set(n),ie.set(M)})),setContext(LOCATION,ie)),setContext(ROUTER,{activeRoute:W,registerRoute:pe,unregisterRoute:Z,manageFocus:F,level:te,id:H,history:x?y:L.history,basepath:x?T:L.basepath,disableInlineStyles:z}),t.$$set=E=>{"basepath"in E&&r(11,m=E.basepath),"url"in E&&r(12,d=E.url),"history"in E&&r(13,y=E.history),"primary"in E&&r(14,v=E.primary),"a11y"in E&&r(15,b=E.a11y),"disableInlineStyles"in E&&r(16,k=E.disableInlineStyles),"$$scope"in E&&r(21,_=E.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==w&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const E=pick(l,n.pathname);W.set(E)}if(t.$$.dirty[0]&655360&&x){const E=!!n.hash,V=!E&&F,M=!E||n.pathname!==c.pathname;he(V,M)}t.$$.dirty[0]&262144&&F&&i&&i.primary&&pushFocusCandidate({level:te,routerId:H,route:i})},[f,S,x,H,F,I,z,R,W,ie,ce,m,d,y,v,b,k,n,i,c,l,_,p]}class Router extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$l,safe_not_equal,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Router$1=Router;function usePreflightCheck(t,e,r=ROUTER,n=ROUTER_ID){getContext(r)||fail(t,c=>`You cannot use ${c} outside of a ${createLabel(n)}.`,e)}const toReadonly=t=>{const{subscribe:e}=getContext(t);return{subscribe:e}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:t}=getContext(ROUTER);return t}function useRouteBase(){const t=getContext(ROUTE);return t?derived(t,e=>e.base):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const t=useRouteBase(),{basepath:e}=getContext(ROUTER);return n=>resolveLink(n,get_store_value(t),e)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const t=useResolve(),{navigate:e}=useHistory();return(n,i)=>{const c=isNumber(n)?n:t(n);return e(c,i)}}const get_default_slot_changes=t=>({params:t&16,location:t&8}),get_default_slot_context=t=>({params:isSSR?get_store_value(t[10]):t[4],location:t[3],navigate:t[11]});function create_if_block$6(t){let e,r;return e=new Router$1({props:{primary:t[1],$$slots:{default:[create_default_slot$5]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&2&&(c.primary=n[1]),i&528409&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_else_block$1(t){let e;const r=t[18].default,n=create_slot(r,t,t[19],get_default_slot_context);return{c(){n&&n.c()},m(i,c){n&&n.m(i,c),e=!0},p(i,c){n&&n.p&&(!e||c&524312)&&update_slot_base(n,r,i,i[19],e?get_slot_changes(r,i[19],c,get_default_slot_changes):get_all_dirty_from_scope(i[19]),get_default_slot_context)},i(i){e||(transition_in(n,i),e=!0)},o(i){transition_out(n,i),e=!1},d(i){n&&n.d(i)}}}function create_if_block_1$3(t){let e,r,n;const i=[{location:t[3]},{navigate:t[11]},isSSR?get_store_value(t[10]):t[4],t[12]];var c=t[0];function l(f){let p={};for(let _=0;_<i.length;_+=1)p=assign(p,i[_]);return{props:p}}return c&&(e=construct_svelte_component(c,l())),{c(){e&&create_component(e.$$.fragment),r=empty()},m(f,p){e&&mount_component(e,f,p),insert(f,r,p),n=!0},p(f,p){const _=p&7192?get_spread_update(i,[p&8&&{location:f[3]},p&2048&&{navigate:f[11]},p&1040&&get_spread_object(isSSR?get_store_value(f[10]):f[4]),p&4096&&get_spread_object(f[12])]):{};if(c!==(c=f[0])){if(e){group_outros();const m=e;transition_out(m.$$.fragment,1,0,()=>{destroy_component(m,1)}),check_outros()}c?(e=construct_svelte_component(c,l()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else c&&e.$set(_)},i(f){n||(e&&transition_in(e.$$.fragment,f),n=!0)},o(f){e&&transition_out(e.$$.fragment,f),n=!1},d(f){f&&detach(r),e&&destroy_component(e,f)}}}function create_default_slot$5(t){let e,r,n,i;const c=[create_if_block_1$3,create_else_block$1],l=[];function f(p,_){return p[0]!==null?0:1}return e=f(t),r=l[e]=c[e](t),{c(){r.c(),n=empty()},m(p,_){l[e].m(p,_),insert(p,n,_),i=!0},p(p,_){let m=e;e=f(p),e===m?l[e].p(p,_):(group_outros(),transition_out(l[m],1,1,()=>{l[m]=null}),check_outros(),r=l[e],r?r.p(p,_):(r=l[e]=c[e](p),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(p){i||(transition_in(r),i=!0)},o(p){transition_out(r),i=!1},d(p){l[e].d(p),p&&detach(n)}}}function create_fragment$k(t){let e,r,n,i,c,l=[createMarkerProps(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let d=0;d<l.length;d+=1)f=assign(f,l[d]);let p=t[2]&&create_if_block$6(t),_=[createMarkerProps(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let d=0;d<_.length;d+=1)m=assign(m,_[d]);return{c(){e=element("div"),r=space(),p&&p.c(),n=space(),i=element("div"),set_attributes(e,f),set_attributes(i,m)},m(d,y){insert(d,e,y),insert(d,r,y),p&&p.m(d,y),insert(d,n,y),insert(d,i,y),c=!0},p(d,[y]){set_attributes(e,f=get_spread_update(l,[createMarkerProps(d[7]),{"data-svnav-route-start":d[5]}])),d[2]?p?(p.p(d,y),y&4&&transition_in(p,1)):(p=create_if_block$6(d),p.c(),transition_in(p,1),p.m(n.parentNode,n)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros()),set_attributes(i,m=get_spread_update(_,[createMarkerProps(d[7]),{"data-svnav-route-end":d[5]}]))},i(d){c||(transition_in(p),c=!0)},o(d){transition_out(p),c=!1},d(d){d&&detach(e),d&&detach(r),p&&p.d(d),d&&detach(n),d&&detach(i)}}}const createId=createCounter();function instance$i(t,e,r){let n;const i=["path","component","meta","primary"];let c=compute_rest_props(e,i),l,f,p,_,{$$slots:m={},$$scope:d}=e,{path:y=""}=e,{component:v=null}=e,{meta:b={}}=e,{primary:k=!0}=e;usePreflightCheck(ROUTE_ID,e);const S=createId(),{registerRoute:w,unregisterRoute:T,activeRoute:A,disableInlineStyles:L}=getContext(ROUTER);component_subscribe(t,A,U=>r(16,l=U));const x=useRouteBase();component_subscribe(t,x,U=>r(17,p=U));const H=useLocation();component_subscribe(t,H,U=>r(3,f=U));const F=writable(null);let I;const z=writable(),R=writable({});component_subscribe(t,R,U=>r(4,_=U)),setContext(ROUTE,z),setContext(ROUTE_PARAMS,R),setContext(FOCUS_ELEM,F);const W=useNavigate();return isSSR||onDestroy(()=>T(S)),t.$$set=U=>{r(24,e=assign(assign({},e),exclude_internal_props(U))),r(12,c=compute_rest_props(e,i)),"path"in U&&r(13,y=U.path),"component"in U&&r(0,v=U.component),"meta"in U&&r(14,b=U.meta),"primary"in U&&r(1,k=U.primary),"$$scope"in U&&r(19,d=U.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const U=y==="",te=join(p,y),ne={id:S,path:y,meta:b,default:U,fullPath:U?"":te,base:U?p:extractBaseUri(te,f.pathname),primary:k,focusElement:F};z.set(ne),r(15,I=w(ne))}if(t.$$.dirty&98304&&r(2,n=!!(I||l&&l.id===S)),t.$$.dirty&98308&&n){const{params:U}=I||l;R.set(U)}},e=exclude_internal_props(e),[v,k,n,f,_,S,A,L,x,H,R,W,c,y,b,I,l,p,m,d]}class Route extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$k,safe_not_equal,{path:13,component:0,meta:14,primary:1})}}const Route$1=Route,parseNumber=parseFloat;function joinCss(t,e=";"){let r;if(Array.isArray(t))r=t.filter(n=>n);else{r=[];for(const n in t)t[n]&&r.push(`${n}:${t[n]}`)}return r.join(e)}function getStyles(t,e,r,n){let i,c;const l="1em";let f,p,_,m="-.125em";const d="visible";return n&&(_="center",c="1.25em"),r&&(i=r),e&&(e=="lg"?(p="1.33333em",f=".75em",m="-.225em"):e=="xs"?p=".75em":e=="sm"?p=".875em":p=e.replace("x","em")),joinCss([joinCss({float:i,width:c,height:l,"line-height":f,"font-size":p,"text-align":_,"vertical-align":m,"transform-origin":"center",overflow:d}),t])}function getTransform(t,e,r,n,i,c=1,l="",f=""){let p=1,_=1;return i&&(i=="horizontal"?p=-1:i=="vertical"?_=-1:p=_=-1),joinCss([`translate(${parseNumber(e)*c}${l},${parseNumber(r)*c}${l})`,`scale(${p*parseNumber(t)},${_*parseNumber(t)})`,n&&`rotate(${n}${f})`]," ")}const fa_svelte_svelte_type_style_lang="";function create_if_block$5(t){let e,r,n,i,c,l,f,p;function _(y,v){return typeof y[10][4]=="string"?create_if_block_1$2:create_else_block}let m=_(t),d=m(t);return{c(){e=svg_element("svg"),r=svg_element("g"),n=svg_element("g"),d.c(),attr(n,"transform",t[12]),attr(r,"transform",i="translate("+t[10][0]/2+" "+t[10][1]/2+")"),attr(r,"transform-origin",c=t[10][0]/4+" 0"),attr(e,"id",l=t[1]||void 0),attr(e,"class",f="svelte-fa "+t[0]+" svelte-1cj2gr0"),attr(e,"style",t[11]),attr(e,"viewBox",p="0 0 "+t[10][0]+" "+t[10][1]),attr(e,"aria-hidden","true"),attr(e,"role","img"),attr(e,"xmlns","http://www.w3.org/2000/svg"),toggle_class(e,"pulse",t[4]),toggle_class(e,"spin",t[3])},m(y,v){insert(y,e,v),append(e,r),append(r,n),d.m(n,null)},p(y,v){m===(m=_(y))&&d?d.p(y,v):(d.d(1),d=m(y),d&&(d.c(),d.m(n,null))),v&4096&&attr(n,"transform",y[12]),v&1024&&i!==(i="translate("+y[10][0]/2+" "+y[10][1]/2+")")&&attr(r,"transform",i),v&1024&&c!==(c=y[10][0]/4+" 0")&&attr(r,"transform-origin",c),v&2&&l!==(l=y[1]||void 0)&&attr(e,"id",l),v&1&&f!==(f="svelte-fa "+y[0]+" svelte-1cj2gr0")&&attr(e,"class",f),v&2048&&attr(e,"style",y[11]),v&1024&&p!==(p="0 0 "+y[10][0]+" "+y[10][1])&&attr(e,"viewBox",p),v&17&&toggle_class(e,"pulse",y[4]),v&9&&toggle_class(e,"spin",y[3])},d(y){y&&detach(e),d.d()}}}function create_else_block(t){let e,r,n,i,c,l,f,p,_,m;return{c(){e=svg_element("path"),l=svg_element("path"),attr(e,"d",r=t[10][4][0]),attr(e,"fill",n=t[6]||t[2]||"currentColor"),attr(e,"fill-opacity",i=t[9]!=!1?t[7]:t[8]),attr(e,"transform",c="translate("+t[10][0]/-2+" "+t[10][1]/-2+")"),attr(l,"d",f=t[10][4][1]),attr(l,"fill",p=t[5]||t[2]||"currentColor"),attr(l,"fill-opacity",_=t[9]!=!1?t[8]:t[7]),attr(l,"transform",m="translate("+t[10][0]/-2+" "+t[10][1]/-2+")")},m(d,y){insert(d,e,y),insert(d,l,y)},p(d,y){y&1024&&r!==(r=d[10][4][0])&&attr(e,"d",r),y&68&&n!==(n=d[6]||d[2]||"currentColor")&&attr(e,"fill",n),y&896&&i!==(i=d[9]!=!1?d[7]:d[8])&&attr(e,"fill-opacity",i),y&1024&&c!==(c="translate("+d[10][0]/-2+" "+d[10][1]/-2+")")&&attr(e,"transform",c),y&1024&&f!==(f=d[10][4][1])&&attr(l,"d",f),y&36&&p!==(p=d[5]||d[2]||"currentColor")&&attr(l,"fill",p),y&896&&_!==(_=d[9]!=!1?d[8]:d[7])&&attr(l,"fill-opacity",_),y&1024&&m!==(m="translate("+d[10][0]/-2+" "+d[10][1]/-2+")")&&attr(l,"transform",m)},d(d){d&&detach(e),d&&detach(l)}}}function create_if_block_1$2(t){let e,r,n,i;return{c(){e=svg_element("path"),attr(e,"d",r=t[10][4]),attr(e,"fill",n=t[2]||t[5]||"currentColor"),attr(e,"transform",i="translate("+t[10][0]/-2+" "+t[10][1]/-2+")")},m(c,l){insert(c,e,l)},p(c,l){l&1024&&r!==(r=c[10][4])&&attr(e,"d",r),l&36&&n!==(n=c[2]||c[5]||"currentColor")&&attr(e,"fill",n),l&1024&&i!==(i="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&attr(e,"transform",i)},d(c){c&&detach(e)}}}function create_fragment$j(t){let e,r=t[10][4]&&create_if_block$5(t);return{c(){r&&r.c(),e=empty()},m(n,i){r&&r.m(n,i),insert(n,e,i)},p(n,[i]){n[10][4]?r?r.p(n,i):(r=create_if_block$5(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:noop,o:noop,d(n){r&&r.d(n),n&&detach(e)}}}function instance$h(t,e,r){let{class:n=""}=e,{id:i=""}=e,{style:c=""}=e,{icon:l}=e,{size:f=""}=e,{color:p=""}=e,{fw:_=!1}=e,{pull:m=""}=e,{scale:d=1}=e,{translateX:y=0}=e,{translateY:v=0}=e,{rotate:b=""}=e,{flip:k=!1}=e,{spin:S=!1}=e,{pulse:w=!1}=e,{primaryColor:T=""}=e,{secondaryColor:A=""}=e,{primaryOpacity:L=1}=e,{secondaryOpacity:x=.4}=e,{swapOpacity:H=!1}=e,F,I,z;return t.$$set=R=>{"class"in R&&r(0,n=R.class),"id"in R&&r(1,i=R.id),"style"in R&&r(13,c=R.style),"icon"in R&&r(14,l=R.icon),"size"in R&&r(15,f=R.size),"color"in R&&r(2,p=R.color),"fw"in R&&r(16,_=R.fw),"pull"in R&&r(17,m=R.pull),"scale"in R&&r(18,d=R.scale),"translateX"in R&&r(19,y=R.translateX),"translateY"in R&&r(20,v=R.translateY),"rotate"in R&&r(21,b=R.rotate),"flip"in R&&r(22,k=R.flip),"spin"in R&&r(3,S=R.spin),"pulse"in R&&r(4,w=R.pulse),"primaryColor"in R&&r(5,T=R.primaryColor),"secondaryColor"in R&&r(6,A=R.secondaryColor),"primaryOpacity"in R&&r(7,L=R.primaryOpacity),"secondaryOpacity"in R&&r(8,x=R.secondaryOpacity),"swapOpacity"in R&&r(9,H=R.swapOpacity)},t.$$.update=()=>{t.$$.dirty&16384&&r(10,F=l&&l.icon||[0,0,"",[],""]),t.$$.dirty&237568&&r(11,I=getStyles(c,f,m,_)),t.$$.dirty&8126464&&r(12,z=getTransform(d,y,v,b,k,512))},[n,i,p,S,w,T,A,L,x,H,F,I,z,c,l,f,_,m,d,y,v,b,k]}class Fa extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$j,safe_not_equal,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}var faGamepad={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M192 64C86 64 0 150 0 256S86 448 192 448H448c106 0 192-86 192-192s-86-192-192-192H192zM496 248c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40zm-24 56c0 22.1-17.9 40-40 40s-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24v32h32c13.3 0 24 10.7 24 24s-10.7 24-24 24H216v32c0 13.3-10.7 24-24 24s-24-10.7-24-24V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h32V200z"]},faUser={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},faKey={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},faCat={prefix:"fas",iconName:"cat",icon:[512,512,[128008],"f6be","M288 192h17.1c22.1 38.3 63.5 64 110.9 64c11 0 21.8-1.4 32-4v4 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V339.2L248 448h56c17.7 0 32 14.3 32 32s-14.3 32-32 32H160c-53 0-96-43-96-96V192.5c0-16.1-12-29.8-28-31.8l-7.9-1C10.5 157.6-1.9 141.6 .2 124s18.2-30 35.7-27.8l7.9 1c48 6 84.1 46.8 84.1 95.3v85.3c34.4-51.7 93.2-85.8 160-85.8zm160 26.5v0c-10 3.5-20.8 5.5-32 5.5c-28.4 0-54-12.4-71.6-32h0c-3.7-4.1-7-8.5-9.9-13.2C325.3 164 320 146.6 320 128v0V32 12 10.7C320 4.8 324.7 .1 330.6 0h.2c3.3 0 6.4 1.6 8.4 4.2l0 .1L352 21.3l27.2 36.3L384 64h64l4.8-6.4L480 21.3 492.8 4.3l0-.1c2-2.6 5.1-4.2 8.4-4.2h.2C507.3 .1 512 4.8 512 10.7V12 32v96c0 17.3-4.6 33.6-12.6 47.6c-11.3 19.8-29.6 35.2-51.4 42.9zM400 128c0-8.8-7.2-16-16-16s-16 7.2-16 16s7.2 16 16 16s16-7.2 16-16zm48 16c8.8 0 16-7.2 16-16s-7.2-16-16-16s-16 7.2-16 16s7.2 16 16 16z"]},faClockRotateLeft={prefix:"fas",iconName:"clock-rotate-left",icon:[512,512,["history"],"f1da","M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"]},faChartColumn={prefix:"fas",iconName:"chart-column",icon:[512,512,[],"e0e3","M32 32c17.7 0 32 14.3 32 32V400c0 8.8 7.2 16 16 16H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-44.2 0-80-35.8-80-80V64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V256c0-17.7 14.3-32 32-32zm128-64V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32zM480 96V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V96c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},faX={prefix:"fas",iconName:"x",icon:[384,512,[120],"58","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"]};const Modal_svelte_svelte_type_style_lang="",get_header_slot_changes=t=>({}),get_header_slot_context=t=>({});function create_fragment$i(t){let e,r,n,i,c,l,f,p,_,m,d,y,v;const b=t[4].header,k=create_slot(b,t,t[3],get_header_slot_context);_=new Fa({props:{icon:faX}});const S=t[4].default,w=create_slot(S,t,t[3],null);return{c(){e=element("div"),r=space(),n=element("div"),i=element("div"),c=element("div"),k&&k.c(),l=space(),f=element("div"),p=element("button"),create_component(_.$$.fragment),m=space(),w&&w.c(),attr(e,"class","custom-modal-background svelte-1vez5w9"),attr(c,"class","col"),attr(p,"type","button"),attr(p,"class","btn btn-danger"),p.autofocus=!0,attr(f,"class","col-auto"),attr(i,"class","row"),attr(n,"class","custom-modal svelte-1vez5w9"),attr(n,"role","dialog"),attr(n,"aria-modal","true")},m(T,A){insert(T,e,A),insert(T,r,A),insert(T,n,A),append(n,i),append(i,c),k&&k.m(c,null),append(i,l),append(i,f),append(f,p),mount_component(_,p,null),append(n,m),w&&w.m(n,null),t[5](n),d=!0,p.focus(),y||(v=[listen(window,"keydown",t[2]),listen(e,"click",t[1]),listen(p,"click",t[1])],y=!0)},p(T,[A]){k&&k.p&&(!d||A&8)&&update_slot_base(k,b,T,T[3],d?get_slot_changes(b,T[3],A,get_header_slot_changes):get_all_dirty_from_scope(T[3]),get_header_slot_context),w&&w.p&&(!d||A&8)&&update_slot_base(w,S,T,T[3],d?get_slot_changes(S,T[3],A,null):get_all_dirty_from_scope(T[3]),null)},i(T){d||(transition_in(k,T),transition_in(_.$$.fragment,T),transition_in(w,T),d=!0)},o(T){transition_out(k,T),transition_out(_.$$.fragment,T),transition_out(w,T),d=!1},d(T){T&&detach(e),T&&detach(r),T&&detach(n),k&&k.d(T),destroy_component(_),w&&w.d(T),t[5](null),y=!1,run_all(v)}}}function instance$g(t,e,r){let{$$slots:n={},$$scope:i}=e;const c=createEventDispatcher(),l=()=>c("close");let f;const p=m=>{if(m.key==="Escape"){l();return}if(m.key==="Tab"){const d=f.querySelectorAll("*"),y=Array.from(d).filter(b=>b.tabIndex>=0);let v=y.indexOf(document.activeElement);v===-1&&m.shiftKey&&(v=0),v+=y.length+(m.shiftKey?-1:1),v%=y.length,y[v].focus(),m.preventDefault()}};function _(m){binding_callbacks[m?"unshift":"push"](()=>{f=m,r(0,f)})}return t.$$set=m=>{"$$scope"in m&&r(3,i=m.$$scope)},[f,l,p,i,n,_]}class Modal extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$i,safe_not_equal,{})}}let host="http://172.20.10.2:5000/";async function Request(t,e,r="Post"){return await fetch(host+t,{method:r,mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then(n=>n.ok?n.json():Promise.reject(n))}async function AuthorizedRequest(t,e,r="Post"){return await fetch(host+t,{method:r,mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)}).then(n=>n.ok?n.json():Promise.reject(n))}async function AuthorizedGetRequest(t){return await fetch(host+t,{method:"Get",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>e.ok?e.json():Promise.reject(e))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(i){return e.create().update(i)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(i){return new HmacSha256(i,t)},e.update=function(i,c){return e.create(i).update(c)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,i=0,c,l=t.length,f=this.blocks;i<l;){if(this.hashed&&(this.hashed=!1,f[0]=this.block,f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),e)for(c=this.start;i<l&&c<64;++i)f[c>>2]|=t[i]<<SHIFT[c++&3];else for(c=this.start;i<l&&c<64;++i)n=t.charCodeAt(i),n<128?f[c>>2]|=n<<SHIFT[c++&3]:n<2048?(f[c>>2]|=(192|n>>6)<<SHIFT[c++&3],f[c>>2]|=(128|n&63)<<SHIFT[c++&3]):n<55296||n>=57344?(f[c>>2]|=(224|n>>12)<<SHIFT[c++&3],f[c>>2]|=(128|n>>6&63)<<SHIFT[c++&3],f[c>>2]|=(128|n&63)<<SHIFT[c++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++i)&1023),f[c>>2]|=(240|n>>18)<<SHIFT[c++&3],f[c>>2]|=(128|n>>12&63)<<SHIFT[c++&3],f[c>>2]|=(128|n>>6&63)<<SHIFT[c++&3],f[c>>2]|=(128|n&63)<<SHIFT[c++&3]);this.lastByteIndex=c,this.bytes+=c-this.start,c>=64?(this.block=f[16],this.start=c-64,this.hash(),this.hashed=!0):this.start=c}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,c=this.h5,l=this.h6,f=this.h7,p=this.blocks,_,m,d,y,v,b,k,S,w,T,A;for(_=16;_<64;++_)v=p[_-15],m=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,v=p[_-2],d=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,p[_]=p[_-16]+m+p[_-7]+d<<0;for(A=e&r,_=0;_<64;_+=4)this.first?(this.is224?(S=300032,v=p[0]-1413257819,f=v-150054599<<0,n=v+24177077<<0):(S=704751109,v=p[0]-210244248,f=v-1521486534<<0,n=v+143694565<<0),this.first=!1):(m=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),d=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),S=t&e,y=S^t&r^A,k=i&c^~i&l,v=f+d+k+K[_]+p[_],b=m+y,f=n+v<<0,n=v+b<<0),m=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),d=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),w=n&t,y=w^n&e^S,k=f&i^~f&c,v=l+d+k+K[_+1]+p[_+1],b=m+y,l=r+v<<0,r=v+b<<0,m=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),d=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),T=r&n,y=T^r&t^w,k=l&f^~l&i,v=c+d+k+K[_+2]+p[_+2],b=m+y,c=e+v<<0,e=v+b<<0,m=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),d=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),A=e&r,y=A^e&n^T,k=c&l^~c&f,v=i+d+k+K[_+3]+p[_+3],b=m+y,i=t+v<<0,t=v+b<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0,this.h5=this.h5+c<<0,this.h6=this.h6+l<<0,this.h7=this.h7+f<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,c=this.h5,l=this.h6,f=this.h7,p=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15];return this.is224||(p+=HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]),p},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,c=this.h5,l=this.h6,f=this.h7,p=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255,c>>24&255,c>>16&255,c>>8&255,c&255,l>>24&255,l>>16&255,l>>8&255,l&255];return this.is224||p.push(f>>24&255,f>>16&255,f>>8&255,f&255),p},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,i=typeof t;if(i==="string"){var c=[],l=t.length,f=0,p;for(n=0;n<l;++n)p=t.charCodeAt(n),p<128?c[f++]=p:p<2048?(c[f++]=192|p>>6,c[f++]=128|p&63):p<55296||p>=57344?(c[f++]=224|p>>12,c[f++]=128|p>>6&63,c[f++]=128|p&63):(p=65536+((p&1023)<<10|t.charCodeAt(++n)&1023),c[f++]=240|p>>18,c[f++]=128|p>>12&63,c[f++]=128|p>>6&63,c[f++]=128|p&63);t=c}else if(i==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var _=[],m=[];for(n=0;n<64;++n){var d=t[n]||0;_[n]=92^d,m[n]=54^d}Sha256.call(this,e,r),this.update(m),this.oKeyPad=_,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);function hash(t){return sha256.exports.sha256(t),sha256.exports.sha256.create()}function create_fragment$h(t){let e,r,n,i,c,l,f,p,_,m,d,y,v,b,k,S,w,T,A,L,x,H,F,I,z;return _=new Fa({props:{icon:faUser}}),S=new Fa({props:{icon:faKey}}),{c(){e=element("div"),r=element("div"),r.innerHTML='<div class="col"><h1>Login Panel</h1></div>',n=space(),i=element("div"),c=element("div"),l=element("div"),f=element("div"),p=element("span"),create_component(_.$$.fragment),m=space(),d=element("input"),y=space(),v=element("div"),b=element("div"),k=element("span"),create_component(S.$$.fragment),w=space(),T=element("input"),A=space(),L=element("div"),x=element("div"),H=element("button"),H.textContent="Login",attr(r,"class","row"),attr(p,"class","input-group-text h-100"),attr(f,"class","input-group-prepend"),attr(d,"type","text"),attr(d,"class","form-control"),attr(d,"placeholder","Username"),attr(l,"class","input-group mb-3"),attr(k,"class","input-group-text h-100"),attr(b,"class","input-group-prepend"),attr(T,"type","password"),attr(T,"class","form-control"),attr(T,"placeholder","Password"),attr(v,"class","input-group mb-3"),attr(c,"class","col"),attr(H,"type","button"),attr(x,"class","col"),attr(L,"class","row"),attr(i,"class","row"),attr(e,"class","container-fluid")},m(R,W){insert(R,e,W),append(e,r),append(e,n),append(e,i),append(i,c),append(c,l),append(l,f),append(f,p),mount_component(_,p,null),append(l,m),append(l,d),set_input_value(d,t[0]),append(c,y),append(c,v),append(v,b),append(b,k),mount_component(S,k,null),append(v,w),append(v,T),set_input_value(T,t[1]),append(i,A),append(i,L),append(L,x),append(x,H),F=!0,I||(z=[listen(d,"input",t[3]),listen(T,"input",t[4]),listen(H,"click",t[2])],I=!0)},p(R,[W]){W&1&&d.value!==R[0]&&set_input_value(d,R[0]),W&2&&T.value!==R[1]&&set_input_value(T,R[1])},i(R){F||(transition_in(_.$$.fragment,R),transition_in(S.$$.fragment,R),F=!0)},o(R){transition_out(_.$$.fragment,R),transition_out(S.$$.fragment,R),F=!1},d(R){R&&detach(e),destroy_component(_),destroy_component(S),I=!1,run_all(z)}}}function instance$f(t,e,r){const n=useNavigate();let i="",c="";async function l(){let m=await Request("auth/login",{name:i,pw:c}).catch(y=>{console.log(y)});localStorage.setItem("token",m.token),n("home");let d=m.token.split("|")[1];localStorage.setItem("hashedToken",hash(d))}function f(){i=this.value,r(0,i)}function p(){c=this.value,r(1,c)}return[i,c,l,f,p]}class LoginPanel extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$h,safe_not_equal,{})}}function create_fragment$g(t){let e,r,n,i,c,l,f,p,_,m,d,y,v,b,k,S,w,T,A,L,x,H,F,I,z;return _=new Fa({props:{icon:faUser}}),S=new Fa({props:{icon:faKey}}),{c(){e=element("div"),r=element("div"),r.innerHTML='<div class="col"><h1>Register Panel</h1></div>',n=space(),i=element("div"),c=element("div"),l=element("div"),f=element("div"),p=element("span"),create_component(_.$$.fragment),m=space(),d=element("input"),y=space(),v=element("div"),b=element("div"),k=element("span"),create_component(S.$$.fragment),w=space(),T=element("input"),A=space(),L=element("div"),x=element("div"),H=element("button"),H.textContent="Login",attr(r,"class","row"),attr(p,"class","input-group-text h-100"),attr(f,"class","input-group-prepend"),attr(d,"type","text"),attr(d,"class","form-control"),attr(d,"placeholder","Username"),attr(l,"class","input-group mb-3"),attr(k,"class","input-group-text h-100"),attr(b,"class","input-group-prepend"),attr(T,"type","password"),attr(T,"class","form-control"),attr(T,"placeholder","Password"),attr(v,"class","input-group mb-3"),attr(c,"class","col"),attr(H,"type","button"),attr(x,"class","col"),attr(L,"class","row"),attr(i,"class","row"),attr(e,"class","container-fluid")},m(R,W){insert(R,e,W),append(e,r),append(e,n),append(e,i),append(i,c),append(c,l),append(l,f),append(f,p),mount_component(_,p,null),append(l,m),append(l,d),set_input_value(d,t[0]),append(c,y),append(c,v),append(v,b),append(b,k),mount_component(S,k,null),append(v,w),append(v,T),set_input_value(T,t[1]),append(i,A),append(i,L),append(L,x),append(x,H),F=!0,I||(z=[listen(d,"input",t[3]),listen(T,"input",t[4]),listen(H,"click",t[2])],I=!0)},p(R,[W]){W&1&&d.value!==R[0]&&set_input_value(d,R[0]),W&2&&T.value!==R[1]&&set_input_value(T,R[1])},i(R){F||(transition_in(_.$$.fragment,R),transition_in(S.$$.fragment,R),F=!0)},o(R){transition_out(_.$$.fragment,R),transition_out(S.$$.fragment,R),F=!1},d(R){R&&detach(e),destroy_component(_),destroy_component(S),I=!1,run_all(z)}}}function instance$e(t,e,r){const n=useNavigate();let i="",c="";async function l(){let m=await Request("auth/register",{name:i,pw:c}).catch(y=>{console.log(y)});localStorage.setItem("token",m.token);let d=m.token.split("|")[1];localStorage.setItem("hashedToken",hash(d)),n("home")}function f(){i=this.value,r(0,i)}function p(){c=this.value,r(1,c)}return[i,c,l,f,p]}class RegisterPanel extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$g,safe_not_equal,{})}}function create_fragment$f(t){let e,r;const n=t[1].default,i=create_slot(n,t,t[0],null);return{c(){e=element("div"),i&&i.c(),attr(e,"class","tabs")},m(c,l){insert(c,e,l),i&&i.m(e,null),r=!0},p(c,[l]){i&&i.p&&(!r||l&1)&&update_slot_base(i,n,c,c[0],r?get_slot_changes(n,c[0],l,null):get_all_dirty_from_scope(c[0]),null)},i(c){r||(transition_in(i,c),r=!0)},o(c){transition_out(i,c),r=!1},d(c){c&&detach(e),i&&i.d(c)}}}const TABS={};function instance$d(t,e,r){let{$$slots:n={},$$scope:i}=e;const c=[],l=[],f=writable(null),p=writable(null);return setContext(TABS,{registerTab:_=>{c.push(_),f.update(m=>m||_),onDestroy(()=>{const m=c.indexOf(_);c.splice(m,1),f.update(d=>d===_?c[m]||c[c.length-1]:d)})},registerPanel:_=>{l.push(_),p.update(m=>m||_),onDestroy(()=>{const m=l.indexOf(_);l.splice(m,1),p.update(d=>d===_?l[m]||l[l.length-1]:d)})},selectTab:_=>{const m=c.indexOf(_);f.set(_),p.set(l[m])},selectedTab:f,selectedPanel:p}),t.$$set=_=>{"$$scope"in _&&r(0,i=_.$$scope)},[i,n]}class Tabs extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$f,safe_not_equal,{})}}const TabList_svelte_svelte_type_style_lang="";function create_fragment$e(t){let e,r;const n=t[1].default,i=create_slot(n,t,t[0],null);return{c(){e=element("div"),i&&i.c(),attr(e,"class","tab-list svelte-10d8gli")},m(c,l){insert(c,e,l),i&&i.m(e,null),r=!0},p(c,[l]){i&&i.p&&(!r||l&1)&&update_slot_base(i,n,c,c[0],r?get_slot_changes(n,c[0],l,null):get_all_dirty_from_scope(c[0]),null)},i(c){r||(transition_in(i,c),r=!0)},o(c){transition_out(i,c),r=!1},d(c){c&&detach(e),i&&i.d(c)}}}function instance$c(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=c=>{"$$scope"in c&&r(0,i=c.$$scope)},[i,n]}class TabList extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$e,safe_not_equal,{})}}function create_if_block$4(t){let e;const r=t[4].default,n=create_slot(r,t,t[3],null);return{c(){n&&n.c()},m(i,c){n&&n.m(i,c),e=!0},p(i,c){n&&n.p&&(!e||c&8)&&update_slot_base(n,r,i,i[3],e?get_slot_changes(r,i[3],c,null):get_all_dirty_from_scope(i[3]),null)},i(i){e||(transition_in(n,i),e=!0)},o(i){transition_out(n,i),e=!1},d(i){n&&n.d(i)}}}function create_fragment$d(t){let e,r,n=t[0]===t[1]&&create_if_block$4(t);return{c(){n&&n.c(),e=empty()},m(i,c){n&&n.m(i,c),insert(i,e,c),r=!0},p(i,[c]){i[0]===i[1]?n?(n.p(i,c),c&1&&transition_in(n,1)):(n=create_if_block$4(i),n.c(),transition_in(n,1),n.m(e.parentNode,e)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(i){r||(transition_in(n),r=!0)},o(i){transition_out(n),r=!1},d(i){n&&n.d(i),i&&detach(e)}}}function instance$b(t,e,r){let n,{$$slots:i={},$$scope:c}=e;const l={},{registerPanel:f,selectedPanel:p}=getContext(TABS);return component_subscribe(t,p,_=>r(0,n=_)),f(l),t.$$set=_=>{"$$scope"in _&&r(3,c=_.$$scope)},[n,l,p,c,i]}class TabPanel extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$d,safe_not_equal,{})}}const Tab_svelte_svelte_type_style_lang="";function create_fragment$c(t){let e,r,n,i;const c=t[5].default,l=create_slot(c,t,t[4],null);return{c(){e=element("button"),l&&l.c(),attr(e,"class","svelte-o2wbpy"),toggle_class(e,"selected",t[0]===t[1])},m(f,p){insert(f,e,p),l&&l.m(e,null),r=!0,n||(i=listen(e,"click",t[6]),n=!0)},p(f,[p]){l&&l.p&&(!r||p&16)&&update_slot_base(l,c,f,f[4],r?get_slot_changes(c,f[4],p,null):get_all_dirty_from_scope(f[4]),null),(!r||p&3)&&toggle_class(e,"selected",f[0]===f[1])},i(f){r||(transition_in(l,f),r=!0)},o(f){transition_out(l,f),r=!1},d(f){f&&detach(e),l&&l.d(f),n=!1,i()}}}function instance$a(t,e,r){let n,{$$slots:i={},$$scope:c}=e;const l={},{registerTab:f,selectTab:p,selectedTab:_}=getContext(TABS);component_subscribe(t,_,d=>r(0,n=d)),f(l);const m=()=>p(l);return t.$$set=d=>{"$$scope"in d&&r(4,c=d.$$scope)},[n,l,p,_,c,i,m]}class Tab extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$c,safe_not_equal,{})}}const LandingPage_svelte_svelte_type_style_lang="";function create_if_block$3(t){let e,r;return e=new Modal({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:t}}}),e.$on("close",t[2]),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&8&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_6$1(t){let e;return{c(){e=text("Login")},m(r,n){insert(r,e,n)},d(r){r&&detach(e)}}}function create_default_slot_5$1(t){let e;return{c(){e=text("Register")},m(r,n){insert(r,e,n)},d(r){r&&detach(e)}}}function create_default_slot_4$2(t){let e,r,n,i;return e=new Tab({props:{$$slots:{default:[create_default_slot_6$1]},$$scope:{ctx:t}}}),n=new Tab({props:{$$slots:{default:[create_default_slot_5$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment),r=space(),create_component(n.$$.fragment)},m(c,l){mount_component(e,c,l),insert(c,r,l),mount_component(n,c,l),i=!0},p(c,l){const f={};l&8&&(f.$$scope={dirty:l,ctx:c}),e.$set(f);const p={};l&8&&(p.$$scope={dirty:l,ctx:c}),n.$set(p)},i(c){i||(transition_in(e.$$.fragment,c),transition_in(n.$$.fragment,c),i=!0)},o(c){transition_out(e.$$.fragment,c),transition_out(n.$$.fragment,c),i=!1},d(c){destroy_component(e,c),c&&detach(r),destroy_component(n,c)}}}function create_default_slot_3$2(t){let e,r;return e=new LoginPanel({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_2$4(t){let e,r;return e=new RegisterPanel({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_1$4(t){let e,r,n,i,c,l;return e=new TabList({props:{$$slots:{default:[create_default_slot_4$2]},$$scope:{ctx:t}}}),n=new TabPanel({props:{$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:t}}}),c=new TabPanel({props:{$$slots:{default:[create_default_slot_2$4]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment),r=space(),create_component(n.$$.fragment),i=space(),create_component(c.$$.fragment)},m(f,p){mount_component(e,f,p),insert(f,r,p),mount_component(n,f,p),insert(f,i,p),mount_component(c,f,p),l=!0},p(f,p){const _={};p&8&&(_.$$scope={dirty:p,ctx:f}),e.$set(_);const m={};p&8&&(m.$$scope={dirty:p,ctx:f}),n.$set(m);const d={};p&8&&(d.$$scope={dirty:p,ctx:f}),c.$set(d)},i(f){l||(transition_in(e.$$.fragment,f),transition_in(n.$$.fragment,f),transition_in(c.$$.fragment,f),l=!0)},o(f){transition_out(e.$$.fragment,f),transition_out(n.$$.fragment,f),transition_out(c.$$.fragment,f),l=!1},d(f){destroy_component(e,f),f&&detach(r),destroy_component(n,f),f&&detach(i),destroy_component(c,f)}}}function create_default_slot$4(t){let e,r;return e=new Tabs({props:{$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&8&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_fragment$b(t){let e,r,n,i,c,l,f,p,_,m,d,y,v=t[0]&&create_if_block$3(t);return{c(){e=element("div"),r=element("div"),n=element("h1"),n.textContent="MuehleOnline 3",i=space(),c=element("button"),c.textContent="Login!",l=space(),f=element("ul"),f.innerHTML=`<li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li> 
        <li class="svelte-1er7ia2"></li>`,p=space(),v&&v.c(),_=empty(),attr(n,"class","svelte-1er7ia2"),attr(c,"class","cta svelte-1er7ia2"),attr(r,"class","context svelte-1er7ia2"),attr(f,"class","circles svelte-1er7ia2"),attr(e,"class","background svelte-1er7ia2")},m(b,k){insert(b,e,k),append(e,r),append(r,n),append(r,i),append(r,c),append(e,l),append(e,f),insert(b,p,k),v&&v.m(b,k),insert(b,_,k),m=!0,d||(y=listen(c,"click",t[1]),d=!0)},p(b,[k]){b[0]?v?(v.p(b,k),k&1&&transition_in(v,1)):(v=create_if_block$3(b),v.c(),transition_in(v,1),v.m(_.parentNode,_)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(b){m||(transition_in(v),m=!0)},o(b){transition_out(v),m=!1},d(b){b&&detach(e),b&&detach(p),v&&v.d(b),b&&detach(_),d=!1,y()}}}function instance$9(t,e,r){let n=!1;return[n,()=>r(0,n=!0),()=>r(0,n=!1)]}class LandingPage extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$b,safe_not_equal,{})}}const GameHistory_svelte_svelte_type_style_lang="";function create_fragment$a(t){let e,r,n,i,c,l,f,p,_,m,d,y,v=t[0]?"+":"",b,k,S,w,T,A=new Date(t[2]*1e3).toISOString().slice(11,19)+"",L,x,H;return{c(){e=element("div"),r=element("div"),n=element("div"),i=element("div"),c=text(t[3]),l=space(),f=element("div"),p=text(t[4]),_=text(" VS "),m=text(t[1]),d=space(),y=element("div"),b=text(v),k=text(t[5]),S=space(),w=element("div"),T=text("Play time: "),L=text(A),x=space(),H=element("div"),H.textContent=`${`${t[6].getDate()}.${t[6].getMonth()+1}.${t[6].getFullYear()}`}`,attr(i,"class","col-auto right-border c-text svelte-17m80bj"),attr(f,"class","col c-text"),attr(y,"class","col c-text text-center"),attr(w,"class","col c-text text-center"),attr(H,"class","col c-text text-end"),attr(n,"class","row"),attr(r,"class","card-body"),attr(e,"class","card svelte-17m80bj"),toggle_class(e,"bg-success",t[0]),toggle_class(e,"bg-danger",!t[0])},m(F,I){insert(F,e,I),append(e,r),append(r,n),append(n,i),append(i,c),append(n,l),append(n,f),append(f,p),append(f,_),append(f,m),append(n,d),append(n,y),append(y,b),append(y,k),append(n,S),append(n,w),append(w,T),append(w,L),append(n,x),append(n,H)},p(F,[I]){I&8&&set_data(c,F[3]),I&16&&set_data(p,F[4]),I&2&&set_data(m,F[1]),I&1&&v!==(v=F[0]?"+":"")&&set_data(b,v),I&32&&set_data(k,F[5]),I&4&&A!==(A=new Date(F[2]*1e3).toISOString().slice(11,19)+"")&&set_data(L,A),I&1&&toggle_class(e,"bg-success",F[0]),I&1&&toggle_class(e,"bg-danger",!F[0])},i:noop,o:noop,d(F){F&&detach(e)}}}function instance$8(t,e,r){let{won:n=!1}=e,{opponent:i=""}=e,{playtime:c=0}=e,{count:l=0}=e,{username:f=""}=e,{start_date:p=""}=e,{elo:_=0}=e,m=new Date(p);return t.$$set=d=>{"won"in d&&r(0,n=d.won),"opponent"in d&&r(1,i=d.opponent),"playtime"in d&&r(2,c=d.playtime),"count"in d&&r(3,l=d.count),"username"in d&&r(4,f=d.username),"start_date"in d&&r(7,p=d.start_date),"elo"in d&&r(5,_=d.elo)},[n,i,c,l,f,_,m,p]}class GameHistory extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$a,safe_not_equal,{won:0,opponent:1,playtime:2,count:3,username:4,start_date:7,elo:5})}}function create_fragment$9(t){let e,r,n,i,c,l,f;i=new Fa({props:{icon:faCat,color:"#ffffff",size:"1.6x"}});const p=t[1].default,_=create_slot(p,t,t[0],null);return{c(){e=element("nav"),r=element("div"),n=element("a"),create_component(i.$$.fragment),c=text(`\r
      M\xFChleOnline`),l=space(),_&&_.c(),attr(n,"class","navbar-brand c-text me-auto"),attr(n,"href","home"),attr(r,"class","container-fluid"),attr(e,"class","navbar bgc-secondary")},m(m,d){insert(m,e,d),append(e,r),append(r,n),mount_component(i,n,null),append(n,c),append(r,l),_&&_.m(r,null),f=!0},p(m,[d]){_&&_.p&&(!f||d&1)&&update_slot_base(_,p,m,m[0],f?get_slot_changes(p,m[0],d,null):get_all_dirty_from_scope(m[0]),null)},i(m){f||(transition_in(i.$$.fragment,m),transition_in(_,m),f=!0)},o(m){transition_out(i.$$.fragment,m),transition_out(_,m),f=!1},d(m){m&&detach(e),destroy_component(i),_&&_.d(m)}}}function instance$7(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=c=>{"$$scope"in c&&r(0,i=c.$$scope)},[i,n]}class Navbar extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$9,safe_not_equal,{})}}function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_setPrototypeOf(t,e)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(t),i;if(e){var c=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,c)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}var Channel=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"listenForWhisper",value:function(r,n){return this.listen(".client-"+r,n)}},{key:"notification",value:function(r){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",r)}},{key:"stopListeningForWhisper",value:function(r,n){return this.stopListening(".client-"+r,n)}}]),t}(),EventFormatter=function(){function t(e){_classCallCheck(this,t),this.setNamespace(e)}return _createClass(t,[{key:"format",value:function(r){return r.charAt(0)==="."||r.charAt(0)==="\\"?r.substr(1):(this.namespace&&(r=this.namespace+"."+r),r.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(r){this.namespace=r}}]),t}(),PusherChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(n,i,c){var l;return _classCallCheck(this,r),l=e.call(this),l.name=i,l.pusher=n,l.options=c,l.eventFormatter=new EventFormatter(l.options.namespace),l.subscribe(),l}return _createClass(r,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(i,c){return this.on(this.eventFormatter.format(i),c),this}},{key:"listenToAll",value:function(i){var c=this;return this.subscription.bind_global(function(l,f){if(!l.startsWith("pusher:")){var p=c.options.namespace.replace(/\./g,"\\"),_=l.startsWith(p)?l.substring(p.length+1):"."+l;i(_,f)}}),this}},{key:"stopListening",value:function(i,c){return c?this.subscription.unbind(this.eventFormatter.format(i),c):this.subscription.unbind(this.eventFormatter.format(i)),this}},{key:"stopListeningToAll",value:function(i){return i?this.subscription.unbind_global(i):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(i){return this.on("pusher:subscription_succeeded",function(){i()}),this}},{key:"error",value:function(i){return this.on("pusher:subscription_error",function(c){i(c)}),this}},{key:"on",value:function(i,c){return this.subscription.bind(i,c),this}}]),r}(Channel),PusherPrivateChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(i,c){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),c),this}}]),r}(PusherChannel),PusherEncryptedPrivateChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(i,c){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),c),this}}]),r}(PusherChannel),PusherPresenceChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"here",value:function(i){return this.on("pusher:subscription_succeeded",function(c){i(Object.keys(c.members).map(function(l){return c.members[l]}))}),this}},{key:"joining",value:function(i){return this.on("pusher:member_added",function(c){i(c.info)}),this}},{key:"leaving",value:function(i){return this.on("pusher:member_removed",function(c){i(c.info)}),this}},{key:"whisper",value:function(i,c){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),c),this}}]),r}(PusherChannel),SocketIoChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(n,i,c){var l;return _classCallCheck(this,r),l=e.call(this),l.events={},l.listeners={},l.name=i,l.socket=n,l.options=c,l.eventFormatter=new EventFormatter(l.options.namespace),l.subscribe(),l}return _createClass(r,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(i,c){return this.on(this.eventFormatter.format(i),c),this}},{key:"stopListening",value:function(i,c){return this.unbindEvent(this.eventFormatter.format(i),c),this}},{key:"subscribed",value:function(i){return this.on("connect",function(c){i(c)}),this}},{key:"error",value:function(i){return this}},{key:"on",value:function(i,c){var l=this;return this.listeners[i]=this.listeners[i]||[],this.events[i]||(this.events[i]=function(f,p){l.name===f&&l.listeners[i]&&l.listeners[i].forEach(function(_){return _(p)})},this.socket.on(i,this.events[i])),this.listeners[i].push(c),this}},{key:"unbind",value:function(){var i=this;Object.keys(this.events).forEach(function(c){i.unbindEvent(c)})}},{key:"unbindEvent",value:function(i,c){this.listeners[i]=this.listeners[i]||[],c&&(this.listeners[i]=this.listeners[i].filter(function(l){return l!==c})),(!c||this.listeners[i].length===0)&&(this.events[i]&&(this.socket.removeListener(i,this.events[i]),delete this.events[i]),delete this.listeners[i])}}]),r}(Channel),SocketIoPrivateChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(i,c){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(i),data:c}),this}}]),r}(SocketIoChannel),SocketIoPresenceChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"here",value:function(i){return this.on("presence:subscribed",function(c){i(c.map(function(l){return l.user_info}))}),this}},{key:"joining",value:function(i){return this.on("presence:joining",function(c){return i(c.user_info)}),this}},{key:"leaving",value:function(i){return this.on("presence:leaving",function(c){return i(c.user_info)}),this}}]),r}(SocketIoPrivateChannel),NullChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(i,c){return this}},{key:"stopListening",value:function(i,c){return this}},{key:"subscribed",value:function(i){return this}},{key:"error",value:function(i){return this}},{key:"on",value:function(i,c){return this}}]),r}(Channel),NullPrivateChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(i,c){return this}}]),r}(NullChannel),NullPresenceChannel=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"here",value:function(i){return this}},{key:"joining",value:function(i){return this}},{key:"leaving",value:function(i){return this}},{key:"whisper",value:function(i,c){return this}}]),r}(NullChannel),Connector=function(){function t(e){_classCallCheck(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return _createClass(t,[{key:"setOptions",value:function(r){this.options=_extends(this._defaultOptions,r);var n=this.csrfToken();return n&&(this.options.auth.headers["X-CSRF-TOKEN"]=n,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=n),n=this.options.bearerToken,n&&(this.options.auth.headers.Authorization="Bearer "+n,this.options.userAuthentication.headers.Authorization="Bearer "+n),r}},{key:"csrfToken",value:function(){var r;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(r=document.querySelector('meta[name="csrf-token"]'))?r.getAttribute("content"):null}}]),t}(),PusherConnector=function(t){_inherits(r,t);var e=_createSuper(r);function r(){var n;return _classCallCheck(this,r),n=e.apply(this,arguments),n.channels={},n}return _createClass(r,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(i,c,l){return this.channel(i).listen(c,l)}},{key:"channel",value:function(i){return this.channels[i]||(this.channels[i]=new PusherChannel(this.pusher,i,this.options)),this.channels[i]}},{key:"privateChannel",value:function(i){return this.channels["private-"+i]||(this.channels["private-"+i]=new PusherPrivateChannel(this.pusher,"private-"+i,this.options)),this.channels["private-"+i]}},{key:"encryptedPrivateChannel",value:function(i){return this.channels["private-encrypted-"+i]||(this.channels["private-encrypted-"+i]=new PusherEncryptedPrivateChannel(this.pusher,"private-encrypted-"+i,this.options)),this.channels["private-encrypted-"+i]}},{key:"presenceChannel",value:function(i){return this.channels["presence-"+i]||(this.channels["presence-"+i]=new PusherPresenceChannel(this.pusher,"presence-"+i,this.options)),this.channels["presence-"+i]}},{key:"leave",value:function(i){var c=this,l=[i,"private-"+i,"private-encrypted-"+i,"presence-"+i];l.forEach(function(f,p){c.leaveChannel(f)})}},{key:"leaveChannel",value:function(i){this.channels[i]&&(this.channels[i].unsubscribe(),delete this.channels[i])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),r}(Connector),SocketIoConnector=function(t){_inherits(r,t);var e=_createSuper(r);function r(){var n;return _classCallCheck(this,r),n=e.apply(this,arguments),n.channels={},n}return _createClass(r,[{key:"connect",value:function(){var i=this,c=this.getSocketIO();return this.socket=c(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(i.channels).forEach(function(l){l.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(i,c,l){return this.channel(i).listen(c,l)}},{key:"channel",value:function(i){return this.channels[i]||(this.channels[i]=new SocketIoChannel(this.socket,i,this.options)),this.channels[i]}},{key:"privateChannel",value:function(i){return this.channels["private-"+i]||(this.channels["private-"+i]=new SocketIoPrivateChannel(this.socket,"private-"+i,this.options)),this.channels["private-"+i]}},{key:"presenceChannel",value:function(i){return this.channels["presence-"+i]||(this.channels["presence-"+i]=new SocketIoPresenceChannel(this.socket,"presence-"+i,this.options)),this.channels["presence-"+i]}},{key:"leave",value:function(i){var c=this,l=[i,"private-"+i,"presence-"+i];l.forEach(function(f){c.leaveChannel(f)})}},{key:"leaveChannel",value:function(i){this.channels[i]&&(this.channels[i].unsubscribe(),delete this.channels[i])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),r}(Connector),NullConnector=function(t){_inherits(r,t);var e=_createSuper(r);function r(){var n;return _classCallCheck(this,r),n=e.apply(this,arguments),n.channels={},n}return _createClass(r,[{key:"connect",value:function(){}},{key:"listen",value:function(i,c,l){return new NullChannel}},{key:"channel",value:function(i){return new NullChannel}},{key:"privateChannel",value:function(i){return new NullPrivateChannel}},{key:"presenceChannel",value:function(i){return new NullPresenceChannel}},{key:"leave",value:function(i){}},{key:"leaveChannel",value:function(i){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),r}(Connector),Echo=function(){function t(e){_classCallCheck(this,t),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return _createClass(t,[{key:"channel",value:function(r){return this.connector.channel(r)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new PusherConnector(this.options):this.options.broadcaster=="socket.io"?this.connector=new SocketIoConnector(this.options):this.options.broadcaster=="null"?this.connector=new NullConnector(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(r){return this.connector.presenceChannel(r)}},{key:"leave",value:function(r){this.connector.leave(r)}},{key:"leaveChannel",value:function(r){this.connector.leaveChannel(r)}},{key:"listen",value:function(r,n,i){return this.connector.listen(r,n,i)}},{key:"private",value:function(r){return this.connector.privateChannel(r)}},{key:"encryptedPrivate",value:function(r){return this.connector.encryptedPrivateChannel(r)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":_typeof(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var r=this;Vue.http.interceptors.push(function(n,i){r.socketId()&&n.headers.set("X-Socket-ID",r.socketId()),i()})}},{key:"registerAxiosRequestInterceptor",value:function(){var r=this;axios.interceptors.request.use(function(n){return r.socketId()&&(n.headers["X-Socket-Id"]=r.socketId()),n})}},{key:"registerjQueryAjaxSetup",value:function(){var r=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(n,i,c){r.socketId()&&c.setRequestHeader("X-Socket-Id",r.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var r=this;document.addEventListener("turbo:before-fetch-request",function(n){n.detail.fetchOptions.headers["X-Socket-Id"]=r.socketId()})}}]),t}(),pusher={exports:{}};/*!
 * Pusher JavaScript Library v7.6.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(t,e){(function(n,i){t.exports=i()})(window,function(){return function(r){var n={};function i(c){if(n[c])return n[c].exports;var l=n[c]={i:c,l:!1,exports:{}};return r[c].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=r,i.c=n,i.d=function(c,l,f){i.o(c,l)||Object.defineProperty(c,l,{enumerable:!0,get:f})},i.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},i.t=function(c,l){if(l&1&&(c=i(c)),l&8||l&4&&typeof c=="object"&&c&&c.__esModule)return c;var f=Object.create(null);if(i.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:c}),l&2&&typeof c!="string")for(var p in c)i.d(f,p,function(_){return c[_]}.bind(null,p));return f},i.n=function(c){var l=c&&c.__esModule?function(){return c.default}:function(){return c};return i.d(l,"a",l),l},i.o=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)},i.p="",i(i.s=2)}([function(r,n,i){var c=this&&this.__extends||function(){var k=function(S,w){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,A){T.__proto__=A}||function(T,A){for(var L in A)A.hasOwnProperty(L)&&(T[L]=A[L])},k(S,w)};return function(S,w){k(S,w);function T(){this.constructor=S}S.prototype=w===null?Object.create(w):(T.prototype=w.prototype,new T)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=256,f=function(){function k(S){S===void 0&&(S="="),this._paddingCharacter=S}return k.prototype.encodedLength=function(S){return this._paddingCharacter?(S+2)/3*4|0:(S*8+5)/6|0},k.prototype.encode=function(S){for(var w="",T=0;T<S.length-2;T+=3){var A=S[T]<<16|S[T+1]<<8|S[T+2];w+=this._encodeByte(A>>>3*6&63),w+=this._encodeByte(A>>>2*6&63),w+=this._encodeByte(A>>>1*6&63),w+=this._encodeByte(A>>>0*6&63)}var L=S.length-T;if(L>0){var A=S[T]<<16|(L===2?S[T+1]<<8:0);w+=this._encodeByte(A>>>3*6&63),w+=this._encodeByte(A>>>2*6&63),L===2?w+=this._encodeByte(A>>>1*6&63):w+=this._paddingCharacter||"",w+=this._paddingCharacter||""}return w},k.prototype.maxDecodedLength=function(S){return this._paddingCharacter?S/4*3|0:(S*6+7)/8|0},k.prototype.decodedLength=function(S){return this.maxDecodedLength(S.length-this._getPaddingLength(S))},k.prototype.decode=function(S){if(S.length===0)return new Uint8Array(0);for(var w=this._getPaddingLength(S),T=S.length-w,A=new Uint8Array(this.maxDecodedLength(T)),L=0,x=0,H=0,F=0,I=0,z=0,R=0;x<T-4;x+=4)F=this._decodeChar(S.charCodeAt(x+0)),I=this._decodeChar(S.charCodeAt(x+1)),z=this._decodeChar(S.charCodeAt(x+2)),R=this._decodeChar(S.charCodeAt(x+3)),A[L++]=F<<2|I>>>4,A[L++]=I<<4|z>>>2,A[L++]=z<<6|R,H|=F&l,H|=I&l,H|=z&l,H|=R&l;if(x<T-1&&(F=this._decodeChar(S.charCodeAt(x)),I=this._decodeChar(S.charCodeAt(x+1)),A[L++]=F<<2|I>>>4,H|=F&l,H|=I&l),x<T-2&&(z=this._decodeChar(S.charCodeAt(x+2)),A[L++]=I<<4|z>>>2,H|=z&l),x<T-3&&(R=this._decodeChar(S.charCodeAt(x+3)),A[L++]=z<<6|R,H|=R&l),H!==0)throw new Error("Base64Coder: incorrect characters for decoding");return A},k.prototype._encodeByte=function(S){var w=S;return w+=65,w+=25-S>>>8&0-65-26+97,w+=51-S>>>8&26-97-52+48,w+=61-S>>>8&52-48-62+43,w+=62-S>>>8&62-43-63+47,String.fromCharCode(w)},k.prototype._decodeChar=function(S){var w=l;return w+=(42-S&S-44)>>>8&-l+S-43+62,w+=(46-S&S-48)>>>8&-l+S-47+63,w+=(47-S&S-58)>>>8&-l+S-48+52,w+=(64-S&S-91)>>>8&-l+S-65+0,w+=(96-S&S-123)>>>8&-l+S-97+26,w},k.prototype._getPaddingLength=function(S){var w=0;if(this._paddingCharacter){for(var T=S.length-1;T>=0&&S[T]===this._paddingCharacter;T--)w++;if(S.length<4||w>2)throw new Error("Base64Coder: incorrect padding")}return w},k}();n.Coder=f;var p=new f;function _(k){return p.encode(k)}n.encode=_;function m(k){return p.decode(k)}n.decode=m;var d=function(k){c(S,k);function S(){return k!==null&&k.apply(this,arguments)||this}return S.prototype._encodeByte=function(w){var T=w;return T+=65,T+=25-w>>>8&0-65-26+97,T+=51-w>>>8&26-97-52+48,T+=61-w>>>8&52-48-62+45,T+=62-w>>>8&62-45-63+95,String.fromCharCode(T)},S.prototype._decodeChar=function(w){var T=l;return T+=(44-w&w-46)>>>8&-l+w-45+62,T+=(94-w&w-96)>>>8&-l+w-95+63,T+=(47-w&w-58)>>>8&-l+w-48+52,T+=(64-w&w-91)>>>8&-l+w-65+0,T+=(96-w&w-123)>>>8&-l+w-97+26,T},S}(f);n.URLSafeCoder=d;var y=new d;function v(k){return y.encode(k)}n.encodeURLSafe=v;function b(k){return y.decode(k)}n.decodeURLSafe=b,n.encodedLength=function(k){return p.encodedLength(k)},n.maxDecodedLength=function(k){return p.maxDecodedLength(k)},n.decodedLength=function(k){return p.decodedLength(k)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var c="utf8: invalid string",l="utf8: invalid source encoding";function f(m){for(var d=new Uint8Array(p(m)),y=0,v=0;v<m.length;v++){var b=m.charCodeAt(v);b<128?d[y++]=b:b<2048?(d[y++]=192|b>>6,d[y++]=128|b&63):b<55296?(d[y++]=224|b>>12,d[y++]=128|b>>6&63,d[y++]=128|b&63):(v++,b=(b&1023)<<10,b|=m.charCodeAt(v)&1023,b+=65536,d[y++]=240|b>>18,d[y++]=128|b>>12&63,d[y++]=128|b>>6&63,d[y++]=128|b&63)}return d}n.encode=f;function p(m){for(var d=0,y=0;y<m.length;y++){var v=m.charCodeAt(y);if(v<128)d+=1;else if(v<2048)d+=2;else if(v<55296)d+=3;else if(v<=57343){if(y>=m.length-1)throw new Error(c);y++,d+=4}else throw new Error(c)}return d}n.encodedLength=p;function _(m){for(var d=[],y=0;y<m.length;y++){var v=m[y];if(v&128){var b=void 0;if(v<224){if(y>=m.length)throw new Error(l);var k=m[++y];if((k&192)!==128)throw new Error(l);v=(v&31)<<6|k&63,b=128}else if(v<240){if(y>=m.length-1)throw new Error(l);var k=m[++y],S=m[++y];if((k&192)!==128||(S&192)!==128)throw new Error(l);v=(v&15)<<12|(k&63)<<6|S&63,b=2048}else if(v<248){if(y>=m.length-2)throw new Error(l);var k=m[++y],S=m[++y],w=m[++y];if((k&192)!==128||(S&192)!==128||(w&192)!==128)throw new Error(l);v=(v&15)<<18|(k&63)<<12|(S&63)<<6|w&63,b=65536}else throw new Error(l);if(v<b||v>=55296&&v<=57343)throw new Error(l);if(v>=65536){if(v>1114111)throw new Error(l);v-=65536,d.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}d.push(String.fromCharCode(v))}return d.join("")}n.decode=_},function(r,n,i){r.exports=i(3).default},function(r,n,i){i.r(n);var c=function(){function s(o,a){this.lastId=0,this.prefix=o,this.name=a}return s.prototype.create=function(o){this.lastId++;var a=this.lastId,u=this.prefix+a,h=this.name+"["+a+"]",g=!1,P=function(){g||(o.apply(null,arguments),g=!0)};return this[a]=P,{number:a,id:u,name:h,callback:P}},s.prototype.remove=function(o){delete this[o.number]},s}(),l=new c("_pusher_script_","Pusher.ScriptReceivers"),f={VERSION:"7.6.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},p=f,_=function(){function s(o){this.options=o,this.receivers=o.receivers||l,this.loading={}}return s.prototype.load=function(o,a,u){var h=this;if(h.loading[o]&&h.loading[o].length>0)h.loading[o].push(u);else{h.loading[o]=[u];var g=G.createScriptRequest(h.getPath(o,a)),P=h.receivers.create(function($){if(h.receivers.remove(P),h.loading[o]){var q=h.loading[o];delete h.loading[o];for(var N=function(le){le||g.cleanup()},Y=0;Y<q.length;Y++)q[Y]($,N)}});g.send(P)}},s.prototype.getRoot=function(o){var a,u=G.getDocument().location.protocol;return o&&o.useTLS||u==="https:"?a=this.options.cdn_https:a=this.options.cdn_http,a.replace(/\/*$/,"")+"/"+this.options.version},s.prototype.getPath=function(o,a){return this.getRoot(a)+"/"+o+this.options.suffix+".js"},s}(),m=_,d=new c("_pusher_dependencies","Pusher.DependenciesReceivers"),y=new m({cdn_http:p.cdn_http,cdn_https:p.cdn_https,version:p.VERSION,suffix:p.dependency_suffix,receivers:d}),v={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},b=function(s){var o="See:",a=v.urls[s];if(!a)return"";var u;return a.fullUrl?u=a.fullUrl:a.path&&(u=v.baseUrl+a.path),u?o+" "+u:""},k={buildLogSuffix:b},S;(function(s){s.UserAuthentication="user-authentication",s.ChannelAuthorization="channel-authorization"})(S||(S={}));var w=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),T=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),A=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),L=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),x=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),H=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),F=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),I=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),z=function(s){w(o,s);function o(a){var u=this.constructor,h=s.call(this,a)||this;return Object.setPrototypeOf(h,u.prototype),h}return o}(Error),R=function(s){w(o,s);function o(a,u){var h=this.constructor,g=s.call(this,u)||this;return g.status=a,Object.setPrototypeOf(g,h.prototype),g}return o}(Error),W=function(s,o,a,u,h){var g=G.createXHR();g.open("POST",a.endpoint,!0),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var P in a.headers)g.setRequestHeader(P,a.headers[P]);if(a.headersProvider!=null){var $=a.headersProvider();for(var P in $)g.setRequestHeader(P,$[P])}return g.onreadystatechange=function(){if(g.readyState===4)if(g.status===200){var q=void 0,N=!1;try{q=JSON.parse(g.responseText),N=!0}catch{h(new R(200,"JSON returned from "+u.toString()+" endpoint was invalid, yet status code was 200. Data was: "+g.responseText),null)}N&&h(null,q)}else{var Y="";switch(u){case S.UserAuthentication:Y=k.buildLogSuffix("authenticationEndpoint");break;case S.ChannelAuthorization:Y="Clients must be authorized to join private or presence channels. "+k.buildLogSuffix("authorizationEndpoint");break}h(new R(g.status,"Unable to retrieve auth string from "+u.toString()+" endpoint - "+("received status: "+g.status+" from "+a.endpoint+". "+Y)),null)}},g.send(o),g},U=W;function te(s){return pe(he(s))}var ne=String.fromCharCode,ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=function(s){var o=s.charCodeAt(0);return o<128?s:o<2048?ne(192|o>>>6)+ne(128|o&63):ne(224|o>>>12&15)+ne(128|o>>>6&63)+ne(128|o&63)},he=function(s){return s.replace(/[^\x00-\x7F]/g,ce)},fe=function(s){var o=[0,2,1][s.length%3],a=s.charCodeAt(0)<<16|(s.length>1?s.charCodeAt(1):0)<<8|(s.length>2?s.charCodeAt(2):0),u=[ie.charAt(a>>>18),ie.charAt(a>>>12&63),o>=2?"=":ie.charAt(a>>>6&63),o>=1?"=":ie.charAt(a&63)];return u.join("")},pe=window.btoa||function(s){return s.replace(/[\s\S]{1,3}/g,fe)},Z=function(){function s(o,a,u,h){var g=this;this.clear=a,this.timer=o(function(){g.timer&&(g.timer=h(g.timer))},u)}return s.prototype.isRunning=function(){return this.timer!==null},s.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},s}(),E=Z,V=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}();function M(s){window.clearTimeout(s)}function de(s){window.clearInterval(s)}var ue=function(s){V(o,s);function o(a,u){return s.call(this,setTimeout,M,a,function(h){return u(),null})||this}return o}(E),ge=function(s){V(o,s);function o(a,u){return s.call(this,setInterval,de,a,function(h){return u(),h})||this}return o}(E),_e={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(s){return new ue(0,s)},method:function(s){var o=Array.prototype.slice.call(arguments,1);return function(a){return a[s].apply(a,o.concat(arguments))}}},oe=_e;function se(s){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];for(var u=0;u<o.length;u++){var h=o[u];for(var g in h)h[g]&&h[g].constructor&&h[g].constructor===Object?s[g]=se(s[g]||{},h[g]):s[g]=h[g]}return s}function ae(){for(var s=["Pusher"],o=0;o<arguments.length;o++)typeof arguments[o]=="string"?s.push(arguments[o]):s.push(Ae(arguments[o]));return s.join(" : ")}function Q(s,o){var a=Array.prototype.indexOf;if(s===null)return-1;if(a&&s.indexOf===a)return s.indexOf(o);for(var u=0,h=s.length;u<h;u++)if(s[u]===o)return u;return-1}function J(s,o){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&o(s[a],a,s)}function ee(s){var o=[];return J(s,function(a,u){o.push(u)}),o}function me(s){var o=[];return J(s,function(a){o.push(a)}),o}function X(s,o,a){for(var u=0;u<s.length;u++)o.call(a||window,s[u],u,s)}function j(s,o){for(var a=[],u=0;u<s.length;u++)a.push(o(s[u],u,s,a));return a}function C(s,o){var a={};return J(s,function(u,h){a[h]=o(u)}),a}function O(s,o){o=o||function(h){return!!h};for(var a=[],u=0;u<s.length;u++)o(s[u],u,s,a)&&a.push(s[u]);return a}function D(s,o){var a={};return J(s,function(u,h){(o&&o(u,h,s,a)||Boolean(u))&&(a[h]=u)}),a}function Se(s){var o=[];return J(s,function(a,u){o.push([u,a])}),o}function Pe(s,o){for(var a=0;a<s.length;a++)if(o(s[a],a,s))return!0;return!1}function B(s,o){for(var a=0;a<s.length;a++)if(!o(s[a],a,s))return!1;return!0}function ve(s){return C(s,function(o){return typeof o=="object"&&(o=Ae(o)),encodeURIComponent(te(o.toString()))})}function mt(s){var o=D(s,function(u){return u!==void 0}),a=j(Se(ve(o)),oe.method("join","=")).join("&");return a}function gt(s){var o=[],a=[];return function u(h,g){var P,$,q;switch(typeof h){case"object":if(!h)return null;for(P=0;P<o.length;P+=1)if(o[P]===h)return{$ref:a[P]};if(o.push(h),a.push(g),Object.prototype.toString.apply(h)==="[object Array]")for(q=[],P=0;P<h.length;P+=1)q[P]=u(h[P],g+"["+P+"]");else{q={};for($ in h)Object.prototype.hasOwnProperty.call(h,$)&&(q[$]=u(h[$],g+"["+JSON.stringify($)+"]"))}return q;case"number":case"string":case"boolean":return h}}(s,"$")}function Ae(s){try{return JSON.stringify(s)}catch{return JSON.stringify(gt(s))}}var vt=function(){function s(){this.globalLog=function(o){window.console&&window.console.log&&window.console.log(o)}}return s.prototype.debug=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];this.log(this.globalLog,o)},s.prototype.warn=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];this.log(this.globalLogWarn,o)},s.prototype.error=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];this.log(this.globalLogError,o)},s.prototype.globalLogWarn=function(o){window.console&&window.console.warn?window.console.warn(o):this.globalLog(o)},s.prototype.globalLogError=function(o){window.console&&window.console.error?window.console.error(o):this.globalLogWarn(o)},s.prototype.log=function(o){var a=ae.apply(this,arguments);if(Xe.log)Xe.log(a);else if(Xe.logToConsole){var u=o.bind(this);u(a)}},s}(),re=new vt,yt=function(s,o,a,u,h){(a.headers!==void 0||a.headersProvider!=null)&&re.warn("To send headers with the "+u.toString()+" request, you must use AJAX, rather than JSONP.");var g=s.nextAuthCallbackID.toString();s.nextAuthCallbackID++;var P=s.getDocument(),$=P.createElement("script");s.auth_callbacks[g]=function(Y){h(null,Y)};var q="Pusher.auth_callbacks['"+g+"']";$.src=a.endpoint+"?callback="+encodeURIComponent(q)+"&"+o;var N=P.getElementsByTagName("head")[0]||P.documentElement;N.insertBefore($,N.firstChild)},bt=yt,kt=function(){function s(o){this.src=o}return s.prototype.send=function(o){var a=this,u="Error loading "+a.src;a.script=document.createElement("script"),a.script.id=o.id,a.script.src=a.src,a.script.type="text/javascript",a.script.charset="UTF-8",a.script.addEventListener?(a.script.onerror=function(){o.callback(u)},a.script.onload=function(){o.callback(null)}):a.script.onreadystatechange=function(){(a.script.readyState==="loaded"||a.script.readyState==="complete")&&o.callback(null)},a.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(a.errorScript=document.createElement("script"),a.errorScript.id=o.id+"_error",a.errorScript.text=o.name+"('"+u+"');",a.script.async=a.errorScript.async=!1):a.script.async=!0;var h=document.getElementsByTagName("head")[0];h.insertBefore(a.script,h.firstChild),a.errorScript&&h.insertBefore(a.errorScript,a.script.nextSibling)},s.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},s}(),St=kt,wt=function(){function s(o,a){this.url=o,this.data=a}return s.prototype.send=function(o){if(!this.request){var a=mt(this.data),u=this.url+"/"+o.number+"?"+a;this.request=G.createScriptRequest(u),this.request.send(o)}},s.prototype.cleanup=function(){this.request&&this.request.cleanup()},s}(),Ct=wt,Tt=function(s,o){return function(a,u){var h="http"+(o?"s":"")+"://",g=h+(s.host||s.options.host)+s.options.path,P=G.createJSONPRequest(g,a),$=G.ScriptReceivers.create(function(q,N){l.remove($),P.cleanup(),N&&N.host&&(s.host=N.host),u&&u(q,N)});P.send($)}},Pt={name:"jsonp",getAgent:Tt},Rt=Pt;function Le(s,o,a){var u=s+(o.useTLS?"s":""),h=o.useTLS?o.hostTLS:o.hostNonTLS;return u+"://"+h+a}function Fe(s,o){var a="/app/"+s,u="?protocol="+p.PROTOCOL+"&client=js&version="+p.VERSION+(o?"&"+o:"");return a+u}var Et={getInitial:function(s,o){var a=(o.httpPath||"")+Fe(s,"flash=false");return Le("ws",o,a)}},Ot={getInitial:function(s,o){var a=(o.httpPath||"/pusher")+Fe(s);return Le("http",o,a)}},xt={getInitial:function(s,o){return Le("http",o,o.httpPath||"/pusher")},getPath:function(s,o){return Fe(s)}},At=function(){function s(){this._callbacks={}}return s.prototype.get=function(o){return this._callbacks[Ne(o)]},s.prototype.add=function(o,a,u){var h=Ne(o);this._callbacks[h]=this._callbacks[h]||[],this._callbacks[h].push({fn:a,context:u})},s.prototype.remove=function(o,a,u){if(!o&&!a&&!u){this._callbacks={};return}var h=o?[Ne(o)]:ee(this._callbacks);a||u?this.removeCallback(h,a,u):this.removeAllCallbacks(h)},s.prototype.removeCallback=function(o,a,u){X(o,function(h){this._callbacks[h]=O(this._callbacks[h]||[],function(g){return a&&a!==g.fn||u&&u!==g.context}),this._callbacks[h].length===0&&delete this._callbacks[h]},this)},s.prototype.removeAllCallbacks=function(o){X(o,function(a){delete this._callbacks[a]},this)},s}(),$t=At;function Ne(s){return"_"+s}var It=function(){function s(o){this.callbacks=new $t,this.global_callbacks=[],this.failThrough=o}return s.prototype.bind=function(o,a,u){return this.callbacks.add(o,a,u),this},s.prototype.bind_global=function(o){return this.global_callbacks.push(o),this},s.prototype.unbind=function(o,a,u){return this.callbacks.remove(o,a,u),this},s.prototype.unbind_global=function(o){return o?(this.global_callbacks=O(this.global_callbacks||[],function(a){return a!==o}),this):(this.global_callbacks=[],this)},s.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},s.prototype.emit=function(o,a,u){for(var h=0;h<this.global_callbacks.length;h++)this.global_callbacks[h](o,a);var g=this.callbacks.get(o),P=[];if(u?P.push(a,u):a&&P.push(a),g&&g.length>0)for(var h=0;h<g.length;h++)g[h].fn.apply(g[h].context||window,P);else this.failThrough&&this.failThrough(o,a);return this},s}(),be=It,Ht=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Lt=function(s){Ht(o,s);function o(a,u,h,g,P){var $=s.call(this)||this;return $.initialize=G.transportConnectionInitializer,$.hooks=a,$.name=u,$.priority=h,$.key=g,$.options=P,$.state="new",$.timeline=P.timeline,$.activityTimeout=P.activityTimeout,$.id=$.timeline.generateUniqueID(),$}return o.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},o.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},o.prototype.connect=function(){var a=this;if(this.socket||this.state!=="initialized")return!1;var u=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(u,this.options)}catch(h){return oe.defer(function(){a.onError(h),a.changeState("closed")}),!1}return this.bindListeners(),re.debug("Connecting",{transport:this.name,url:u}),this.changeState("connecting"),!0},o.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},o.prototype.send=function(a){var u=this;return this.state==="open"?(oe.defer(function(){u.socket&&u.socket.send(a)}),!0):!1},o.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},o.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},o.prototype.onError=function(a){this.emit("error",{type:"WebSocketError",error:a}),this.timeline.error(this.buildTimelineMessage({error:a.toString()}))},o.prototype.onClose=function(a){a?this.changeState("closed",{code:a.code,reason:a.reason,wasClean:a.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},o.prototype.onMessage=function(a){this.emit("message",a)},o.prototype.onActivity=function(){this.emit("activity")},o.prototype.bindListeners=function(){var a=this;this.socket.onopen=function(){a.onOpen()},this.socket.onerror=function(u){a.onError(u)},this.socket.onclose=function(u){a.onClose(u)},this.socket.onmessage=function(u){a.onMessage(u)},this.supportsPing()&&(this.socket.onactivity=function(){a.onActivity()})},o.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},o.prototype.changeState=function(a,u){this.state=a,this.timeline.info(this.buildTimelineMessage({state:a,params:u})),this.emit(a,u)},o.prototype.buildTimelineMessage=function(a){return se({cid:this.id},a)},o}(be),Ft=Lt,Nt=function(){function s(o){this.hooks=o}return s.prototype.isSupported=function(o){return this.hooks.isSupported(o)},s.prototype.createConnection=function(o,a,u,h){return new Ft(this.hooks,o,a,u,h)},s}(),Re=Nt,Mt=new Re({urls:Et,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(G.getWebSocketAPI())},isSupported:function(){return Boolean(G.getWebSocketAPI())},getSocket:function(s){return G.createWebSocket(s)}}),Ge={urls:Ot,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Je=se({getSocket:function(s){return G.HTTPFactory.createStreamingSocket(s)}},Ge),Ye=se({getSocket:function(s){return G.HTTPFactory.createPollingSocket(s)}},Ge),Ke={isSupported:function(){return G.isXHRSupported()}},jt=new Re(se({},Je,Ke)),Ut=new Re(se({},Ye,Ke)),Dt={ws:Mt,xhr_streaming:jt,xhr_polling:Ut},$e=Dt,qt=new Re({file:"sockjs",urls:xt,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(s,o){return new window.SockJS(s,null,{js_path:y.getPath("sockjs",{useTLS:o.useTLS}),ignore_null_origin:o.ignoreNullOrigin})},beforeOpen:function(s,o){s.send(JSON.stringify({path:o}))}}),Qe={isSupported:function(s){var o=G.isXDRSupported(s.useTLS);return o}},zt=new Re(se({},Je,Qe)),Bt=new Re(se({},Ye,Qe));$e.xdr_streaming=zt,$e.xdr_polling=Bt,$e.sockjs=qt;var Xt=$e,Wt=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Vt=function(s){Wt(o,s);function o(){var a=s.call(this)||this,u=a;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){u.emit("online")},!1),window.addEventListener("offline",function(){u.emit("offline")},!1)),a}return o.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},o}(be),Gt=new Vt,Jt=function(){function s(o,a,u){this.manager=o,this.transport=a,this.minPingDelay=u.minPingDelay,this.maxPingDelay=u.maxPingDelay,this.pingDelay=void 0}return s.prototype.createConnection=function(o,a,u,h){var g=this;h=se({},h,{activityTimeout:this.pingDelay});var P=this.transport.createConnection(o,a,u,h),$=null,q=function(){P.unbind("open",q),P.bind("closed",N),$=oe.now()},N=function(Y){if(P.unbind("closed",N),Y.code===1002||Y.code===1003)g.manager.reportDeath();else if(!Y.wasClean&&$){var le=oe.now()-$;le<2*g.maxPingDelay&&(g.manager.reportDeath(),g.pingDelay=Math.max(le/2,g.minPingDelay))}};return P.bind("open",q),P},s.prototype.isSupported=function(o){return this.manager.isAlive()&&this.transport.isSupported(o)},s}(),Yt=Jt,Ze={decodeMessage:function(s){try{var o=JSON.parse(s.data),a=o.data;if(typeof a=="string")try{a=JSON.parse(o.data)}catch{}var u={event:o.event,channel:o.channel,data:a};return o.user_id&&(u.user_id=o.user_id),u}catch(h){throw{type:"MessageParseError",error:h,data:s.data}}},encodeMessage:function(s){return JSON.stringify(s)},processHandshake:function(s){var o=Ze.decodeMessage(s);if(o.event==="pusher:connection_established"){if(!o.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:o.data.socket_id,activityTimeout:o.data.activity_timeout*1e3}}else{if(o.event==="pusher:error")return{action:this.getCloseAction(o.data),error:this.getCloseError(o.data)};throw"Invalid handshake"}},getCloseAction:function(s){return s.code<4e3?s.code>=1002&&s.code<=1004?"backoff":null:s.code===4e3?"tls_only":s.code<4100?"refused":s.code<4200?"backoff":s.code<4300?"retry":"refused"},getCloseError:function(s){return s.code!==1e3&&s.code!==1001?{type:"PusherError",data:{code:s.code,message:s.reason||s.message}}:null}},we=Ze,Kt=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Qt=function(s){Kt(o,s);function o(a,u){var h=s.call(this)||this;return h.id=a,h.transport=u,h.activityTimeout=u.activityTimeout,h.bindListeners(),h}return o.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},o.prototype.send=function(a){return this.transport.send(a)},o.prototype.send_event=function(a,u,h){var g={event:a,data:u};return h&&(g.channel=h),re.debug("Event sent",g),this.send(we.encodeMessage(g))},o.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},o.prototype.close=function(){this.transport.close()},o.prototype.bindListeners=function(){var a=this,u={message:function(g){var P;try{P=we.decodeMessage(g)}catch($){a.emit("error",{type:"MessageParseError",error:$,data:g.data})}if(P!==void 0){switch(re.debug("Event recd",P),P.event){case"pusher:error":a.emit("error",{type:"PusherError",data:P.data});break;case"pusher:ping":a.emit("ping");break;case"pusher:pong":a.emit("pong");break}a.emit("message",P)}},activity:function(){a.emit("activity")},error:function(g){a.emit("error",g)},closed:function(g){h(),g&&g.code&&a.handleCloseEvent(g),a.transport=null,a.emit("closed")}},h=function(){J(u,function(g,P){a.transport.unbind(P,g)})};J(u,function(g,P){a.transport.bind(P,g)})},o.prototype.handleCloseEvent=function(a){var u=we.getCloseAction(a),h=we.getCloseError(a);h&&this.emit("error",h),u&&this.emit(u,{action:u,error:h})},o}(be),Zt=Qt,en=function(){function s(o,a){this.transport=o,this.callback=a,this.bindListeners()}return s.prototype.close=function(){this.unbindListeners(),this.transport.close()},s.prototype.bindListeners=function(){var o=this;this.onMessage=function(a){o.unbindListeners();var u;try{u=we.processHandshake(a)}catch(h){o.finish("error",{error:h}),o.transport.close();return}u.action==="connected"?o.finish("connected",{connection:new Zt(u.id,o.transport),activityTimeout:u.activityTimeout}):(o.finish(u.action,{error:u.error}),o.transport.close())},this.onClosed=function(a){o.unbindListeners();var u=we.getCloseAction(a)||"backoff",h=we.getCloseError(a);o.finish(u,{error:h})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},s.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},s.prototype.finish=function(o,a){this.callback(se({transport:this.transport,action:o},a))},s}(),tn=en,nn=function(){function s(o,a){this.timeline=o,this.options=a||{}}return s.prototype.send=function(o,a){this.timeline.isEmpty()||this.timeline.send(G.TimelineTransport.getAgent(this,o),a)},s}(),rn=nn,on=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),sn=function(s){on(o,s);function o(a,u){var h=s.call(this,function(g,P){re.debug("No callbacks on "+a+" for "+g)})||this;return h.name=a,h.pusher=u,h.subscribed=!1,h.subscriptionPending=!1,h.subscriptionCancelled=!1,h}return o.prototype.authorize=function(a,u){return u(null,{auth:""})},o.prototype.trigger=function(a,u){if(a.indexOf("client-")!==0)throw new T("Event '"+a+"' does not start with 'client-'");if(!this.subscribed){var h=k.buildLogSuffix("triggeringClientEvents");re.warn("Client event triggered before channel 'subscription_succeeded' event . "+h)}return this.pusher.send_event(a,u,this.name)},o.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},o.prototype.handleEvent=function(a){var u=a.event,h=a.data;if(u==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(a);else if(u==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(a);else if(u.indexOf("pusher_internal:")!==0){var g={};this.emit(u,h,g)}},o.prototype.handleSubscriptionSucceededEvent=function(a){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",a.data)},o.prototype.handleSubscriptionCountEvent=function(a){a.data.subscription_count&&(this.subscriptionCount=a.data.subscription_count),this.emit("pusher:subscription_count",a.data)},o.prototype.subscribe=function(){var a=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(u,h){u?(a.subscriptionPending=!1,re.error(u.toString()),a.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:u.message},u instanceof R?{status:u.status}:{}))):a.pusher.send_event("pusher:subscribe",{auth:h.auth,channel_data:h.channel_data,channel:a.name})}))},o.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},o.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},o.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},o}(be),Me=sn,an=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),cn=function(s){an(o,s);function o(){return s!==null&&s.apply(this,arguments)||this}return o.prototype.authorize=function(a,u){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:a},u)},o}(Me),je=cn,ln=function(){function s(){this.reset()}return s.prototype.get=function(o){return Object.prototype.hasOwnProperty.call(this.members,o)?{id:o,info:this.members[o]}:null},s.prototype.each=function(o){var a=this;J(this.members,function(u,h){o(a.get(h))})},s.prototype.setMyID=function(o){this.myID=o},s.prototype.onSubscription=function(o){this.members=o.presence.hash,this.count=o.presence.count,this.me=this.get(this.myID)},s.prototype.addMember=function(o){return this.get(o.user_id)===null&&this.count++,this.members[o.user_id]=o.user_info,this.get(o.user_id)},s.prototype.removeMember=function(o){var a=this.get(o.user_id);return a&&(delete this.members[o.user_id],this.count--),a},s.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},s}(),un=ln,fn=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),hn=function(s,o,a,u){function h(g){return g instanceof a?g:new a(function(P){P(g)})}return new(a||(a=Promise))(function(g,P){function $(Y){try{N(u.next(Y))}catch(le){P(le)}}function q(Y){try{N(u.throw(Y))}catch(le){P(le)}}function N(Y){Y.done?g(Y.value):h(Y.value).then($,q)}N((u=u.apply(s,o||[])).next())})},pn=function(s,o){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,h,g,P;return P={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function $(N){return function(Y){return q([N,Y])}}function q(N){if(u)throw new TypeError("Generator is already executing.");for(;a;)try{if(u=1,h&&(g=N[0]&2?h.return:N[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,N[1])).done)return g;switch(h=0,g&&(N=[N[0]&2,g.value]),N[0]){case 0:case 1:g=N;break;case 4:return a.label++,{value:N[1],done:!1};case 5:a.label++,h=N[1],N=[0];continue;case 7:N=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(N[0]===6||N[0]===2)){a=0;continue}if(N[0]===3&&(!g||N[1]>g[0]&&N[1]<g[3])){a.label=N[1];break}if(N[0]===6&&a.label<g[1]){a.label=g[1],g=N;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(N);break}g[2]&&a.ops.pop(),a.trys.pop();continue}N=o.call(s,a)}catch(Y){N=[6,Y],h=0}finally{u=g=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},dn=function(s){fn(o,s);function o(a,u){var h=s.call(this,a,u)||this;return h.members=new un,h}return o.prototype.authorize=function(a,u){var h=this;s.prototype.authorize.call(this,a,function(g,P){return hn(h,void 0,void 0,function(){var $,q;return pn(this,function(N){switch(N.label){case 0:return g?[3,3]:(P=P,P.channel_data==null?[3,1]:($=JSON.parse(P.channel_data),this.members.setMyID($.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(N.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return q=k.buildLogSuffix("authorizationEndpoint"),re.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+q+", ")+"or the user should be signed in."),u("Invalid auth response"),[2];N.label=3;case 3:return u(g,P),[2]}})})})},o.prototype.handleEvent=function(a){var u=a.event;if(u.indexOf("pusher_internal:")===0)this.handleInternalEvent(a);else{var h=a.data,g={};a.user_id&&(g.user_id=a.user_id),this.emit(u,h,g)}},o.prototype.handleInternalEvent=function(a){var u=a.event,h=a.data;switch(u){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(a);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(a);break;case"pusher_internal:member_added":var g=this.members.addMember(h);this.emit("pusher:member_added",g);break;case"pusher_internal:member_removed":var P=this.members.removeMember(h);P&&this.emit("pusher:member_removed",P);break}},o.prototype.handleSubscriptionSucceededEvent=function(a){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(a.data),this.emit("pusher:subscription_succeeded",this.members))},o.prototype.disconnect=function(){this.members.reset(),s.prototype.disconnect.call(this)},o}(je),_n=dn,mn=i(1),Ue=i(0),gn=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),vn=function(s){gn(o,s);function o(a,u,h){var g=s.call(this,a,u)||this;return g.key=null,g.nacl=h,g}return o.prototype.authorize=function(a,u){var h=this;s.prototype.authorize.call(this,a,function(g,P){if(g){u(g,P);return}var $=P.shared_secret;if(!$){u(new Error("No shared_secret key in auth payload for encrypted channel: "+h.name),null);return}h.key=Object(Ue.decode)($),delete P.shared_secret,u(null,P)})},o.prototype.trigger=function(a,u){throw new F("Client events are not currently supported for encrypted channels")},o.prototype.handleEvent=function(a){var u=a.event,h=a.data;if(u.indexOf("pusher_internal:")===0||u.indexOf("pusher:")===0){s.prototype.handleEvent.call(this,a);return}this.handleEncryptedEvent(u,h)},o.prototype.handleEncryptedEvent=function(a,u){var h=this;if(!this.key){re.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!u.ciphertext||!u.nonce){re.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+u);return}var g=Object(Ue.decode)(u.ciphertext);if(g.length<this.nacl.secretbox.overheadLength){re.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+g.length);return}var P=Object(Ue.decode)(u.nonce);if(P.length<this.nacl.secretbox.nonceLength){re.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+P.length);return}var $=this.nacl.secretbox.open(g,P,this.key);if($===null){re.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(q,N){if(q){re.error("Failed to make a request to the authEndpoint: "+N+". Unable to fetch new key, so dropping encrypted event");return}if($=h.nacl.secretbox.open(g,P,h.key),$===null){re.error("Failed to decrypt event with new key. Dropping encrypted event");return}h.emit(a,h.getDataToEmit($))});return}this.emit(a,this.getDataToEmit($))},o.prototype.getDataToEmit=function(a){var u=Object(mn.decode)(a);try{return JSON.parse(u)}catch{return u}},o}(je),yn=vn,bn=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),kn=function(s){bn(o,s);function o(a,u){var h=s.call(this)||this;h.state="initialized",h.connection=null,h.key=a,h.options=u,h.timeline=h.options.timeline,h.usingTLS=h.options.useTLS,h.errorCallbacks=h.buildErrorCallbacks(),h.connectionCallbacks=h.buildConnectionCallbacks(h.errorCallbacks),h.handshakeCallbacks=h.buildHandshakeCallbacks(h.errorCallbacks);var g=G.getNetwork();return g.bind("online",function(){h.timeline.info({netinfo:"online"}),(h.state==="connecting"||h.state==="unavailable")&&h.retryIn(0)}),g.bind("offline",function(){h.timeline.info({netinfo:"offline"}),h.connection&&h.sendActivityCheck()}),h.updateStrategy(),h}return o.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},o.prototype.send=function(a){return this.connection?this.connection.send(a):!1},o.prototype.send_event=function(a,u,h){return this.connection?this.connection.send_event(a,u,h):!1},o.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},o.prototype.isUsingTLS=function(){return this.usingTLS},o.prototype.startConnecting=function(){var a=this,u=function(h,g){h?a.runner=a.strategy.connect(0,u):g.action==="error"?(a.emit("error",{type:"HandshakeError",error:g.error}),a.timeline.error({handshakeError:g.error})):(a.abortConnecting(),a.handshakeCallbacks[g.action](g))};this.runner=this.strategy.connect(0,u)},o.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},o.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var a=this.abandonConnection();a.close()}},o.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},o.prototype.retryIn=function(a){var u=this;this.timeline.info({action:"retry",delay:a}),a>0&&this.emit("connecting_in",Math.round(a/1e3)),this.retryTimer=new ue(a||0,function(){u.disconnectInternally(),u.connect()})},o.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},o.prototype.setUnavailableTimer=function(){var a=this;this.unavailableTimer=new ue(this.options.unavailableTimeout,function(){a.updateState("unavailable")})},o.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},o.prototype.sendActivityCheck=function(){var a=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ue(this.options.pongTimeout,function(){a.timeline.error({pong_timed_out:a.options.pongTimeout}),a.retryIn(0)})},o.prototype.resetActivityCheck=function(){var a=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ue(this.activityTimeout,function(){a.sendActivityCheck()}))},o.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},o.prototype.buildConnectionCallbacks=function(a){var u=this;return se({},a,{message:function(h){u.resetActivityCheck(),u.emit("message",h)},ping:function(){u.send_event("pusher:pong",{})},activity:function(){u.resetActivityCheck()},error:function(h){u.emit("error",h)},closed:function(){u.abandonConnection(),u.shouldRetry()&&u.retryIn(1e3)}})},o.prototype.buildHandshakeCallbacks=function(a){var u=this;return se({},a,{connected:function(h){u.activityTimeout=Math.min(u.options.activityTimeout,h.activityTimeout,h.connection.activityTimeout||1/0),u.clearUnavailableTimer(),u.setConnection(h.connection),u.socket_id=u.connection.id,u.updateState("connected",{socket_id:u.socket_id})}})},o.prototype.buildErrorCallbacks=function(){var a=this,u=function(h){return function(g){g.error&&a.emit("error",{type:"WebSocketError",error:g.error}),h(g)}};return{tls_only:u(function(){a.usingTLS=!0,a.updateStrategy(),a.retryIn(0)}),refused:u(function(){a.disconnect()}),backoff:u(function(){a.retryIn(1e3)}),retry:u(function(){a.retryIn(0)})}},o.prototype.setConnection=function(a){this.connection=a;for(var u in this.connectionCallbacks)this.connection.bind(u,this.connectionCallbacks[u]);this.resetActivityCheck()},o.prototype.abandonConnection=function(){if(!!this.connection){this.stopActivityCheck();for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);var u=this.connection;return this.connection=null,u}},o.prototype.updateState=function(a,u){var h=this.state;if(this.state=a,h!==a){var g=a;g==="connected"&&(g+=" with new socket ID "+u.socket_id),re.debug("State changed",h+" -> "+g),this.timeline.info({state:a,params:u}),this.emit("state_change",{previous:h,current:a}),this.emit(a,u)}},o.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},o}(be),Sn=kn,wn=function(){function s(){this.channels={}}return s.prototype.add=function(o,a){return this.channels[o]||(this.channels[o]=Tn(o,a)),this.channels[o]},s.prototype.all=function(){return me(this.channels)},s.prototype.find=function(o){return this.channels[o]},s.prototype.remove=function(o){var a=this.channels[o];return delete this.channels[o],a},s.prototype.disconnect=function(){J(this.channels,function(o){o.disconnect()})},s}(),Cn=wn;function Tn(s,o){if(s.indexOf("private-encrypted-")===0){if(o.config.nacl)return ke.createEncryptedChannel(s,o,o.config.nacl);var a="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",u=k.buildLogSuffix("encryptedChannelSupport");throw new F(a+". "+u)}else{if(s.indexOf("private-")===0)return ke.createPrivateChannel(s,o);if(s.indexOf("presence-")===0)return ke.createPresenceChannel(s,o);if(s.indexOf("#")===0)throw new A('Cannot create a channel with name "'+s+'".');return ke.createChannel(s,o)}}var Pn={createChannels:function(){return new Cn},createConnectionManager:function(s,o){return new Sn(s,o)},createChannel:function(s,o){return new Me(s,o)},createPrivateChannel:function(s,o){return new je(s,o)},createPresenceChannel:function(s,o){return new _n(s,o)},createEncryptedChannel:function(s,o,a){return new yn(s,o,a)},createTimelineSender:function(s,o){return new rn(s,o)},createHandshake:function(s,o){return new tn(s,o)},createAssistantToTheTransportManager:function(s,o,a){return new Yt(s,o,a)}},ke=Pn,Rn=function(){function s(o){this.options=o||{},this.livesLeft=this.options.lives||1/0}return s.prototype.getAssistant=function(o){return ke.createAssistantToTheTransportManager(this,o,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},s.prototype.isAlive=function(){return this.livesLeft>0},s.prototype.reportDeath=function(){this.livesLeft-=1},s}(),et=Rn,En=function(){function s(o,a){this.strategies=o,this.loop=Boolean(a.loop),this.failFast=Boolean(a.failFast),this.timeout=a.timeout,this.timeoutLimit=a.timeoutLimit}return s.prototype.isSupported=function(){return Pe(this.strategies,oe.method("isSupported"))},s.prototype.connect=function(o,a){var u=this,h=this.strategies,g=0,P=this.timeout,$=null,q=function(N,Y){Y?a(null,Y):(g=g+1,u.loop&&(g=g%h.length),g<h.length?(P&&(P=P*2,u.timeoutLimit&&(P=Math.min(P,u.timeoutLimit))),$=u.tryStrategy(h[g],o,{timeout:P,failFast:u.failFast},q)):a(!0))};return $=this.tryStrategy(h[g],o,{timeout:P,failFast:this.failFast},q),{abort:function(){$.abort()},forceMinPriority:function(N){o=N,$&&$.forceMinPriority(N)}}},s.prototype.tryStrategy=function(o,a,u,h){var g=null,P=null;return u.timeout>0&&(g=new ue(u.timeout,function(){P.abort(),h(!0)})),P=o.connect(a,function($,q){$&&g&&g.isRunning()&&!u.failFast||(g&&g.ensureAborted(),h($,q))}),{abort:function(){g&&g.ensureAborted(),P.abort()},forceMinPriority:function($){P.forceMinPriority($)}}},s}(),Ce=En,On=function(){function s(o){this.strategies=o}return s.prototype.isSupported=function(){return Pe(this.strategies,oe.method("isSupported"))},s.prototype.connect=function(o,a){return xn(this.strategies,o,function(u,h){return function(g,P){if(h[u].error=g,g){An(h)&&a(!0);return}X(h,function($){$.forceMinPriority(P.transport.priority)}),a(null,P)}})},s}(),De=On;function xn(s,o,a){var u=j(s,function(h,g,P,$){return h.connect(o,a(g,$))});return{abort:function(){X(u,$n)},forceMinPriority:function(h){X(u,function(g){g.forceMinPriority(h)})}}}function An(s){return B(s,function(o){return Boolean(o.error)})}function $n(s){!s.error&&!s.aborted&&(s.abort(),s.aborted=!0)}var In=function(){function s(o,a,u){this.strategy=o,this.transports=a,this.ttl=u.ttl||1800*1e3,this.usingTLS=u.useTLS,this.timeline=u.timeline}return s.prototype.isSupported=function(){return this.strategy.isSupported()},s.prototype.connect=function(o,a){var u=this.usingTLS,h=Ln(u),g=[this.strategy];if(h&&h.timestamp+this.ttl>=oe.now()){var P=this.transports[h.transport];P&&(this.timeline.info({cached:!0,transport:h.transport,latency:h.latency}),g.push(new Ce([P],{timeout:h.latency*2+1e3,failFast:!0})))}var $=oe.now(),q=g.pop().connect(o,function N(Y,le){Y?(tt(u),g.length>0?($=oe.now(),q=g.pop().connect(o,N)):a(Y)):(Fn(u,le.transport.name,oe.now()-$),a(null,le))});return{abort:function(){q.abort()},forceMinPriority:function(N){o=N,q&&q.forceMinPriority(N)}}},s}(),Hn=In;function qe(s){return"pusherTransport"+(s?"TLS":"NonTLS")}function Ln(s){var o=G.getLocalStorage();if(o)try{var a=o[qe(s)];if(a)return JSON.parse(a)}catch{tt(s)}return null}function Fn(s,o,a){var u=G.getLocalStorage();if(u)try{u[qe(s)]=Ae({timestamp:oe.now(),transport:o,latency:a})}catch{}}function tt(s){var o=G.getLocalStorage();if(o)try{delete o[qe(s)]}catch{}}var Nn=function(){function s(o,a){var u=a.delay;this.strategy=o,this.options={delay:u}}return s.prototype.isSupported=function(){return this.strategy.isSupported()},s.prototype.connect=function(o,a){var u=this.strategy,h,g=new ue(this.options.delay,function(){h=u.connect(o,a)});return{abort:function(){g.ensureAborted(),h&&h.abort()},forceMinPriority:function(P){o=P,h&&h.forceMinPriority(P)}}},s}(),Ie=Nn,Mn=function(){function s(o,a,u){this.test=o,this.trueBranch=a,this.falseBranch=u}return s.prototype.isSupported=function(){var o=this.test()?this.trueBranch:this.falseBranch;return o.isSupported()},s.prototype.connect=function(o,a){var u=this.test()?this.trueBranch:this.falseBranch;return u.connect(o,a)},s}(),Oe=Mn,jn=function(){function s(o){this.strategy=o}return s.prototype.isSupported=function(){return this.strategy.isSupported()},s.prototype.connect=function(o,a){var u=this.strategy.connect(o,function(h,g){g&&u.abort(),a(h,g)});return u},s}(),Un=jn;function xe(s){return function(){return s.isSupported()}}var Dn=function(s,o,a){var u={};function h(dt,Gr,Jr,Yr,Kr){var _t=a(s,dt,Gr,Jr,Yr,Kr);return u[dt]=_t,_t}var g=Object.assign({},o,{hostNonTLS:s.wsHost+":"+s.wsPort,hostTLS:s.wsHost+":"+s.wssPort,httpPath:s.wsPath}),P=Object.assign({},g,{useTLS:!0}),$=Object.assign({},o,{hostNonTLS:s.httpHost+":"+s.httpPort,hostTLS:s.httpHost+":"+s.httpsPort,httpPath:s.httpPath}),q={loop:!0,timeout:15e3,timeoutLimit:6e4},N=new et({lives:2,minPingDelay:1e4,maxPingDelay:s.activityTimeout}),Y=new et({lives:2,minPingDelay:1e4,maxPingDelay:s.activityTimeout}),le=h("ws","ws",3,g,N),ye=h("wss","ws",3,P,N),zr=h("sockjs","sockjs",1,$),ct=h("xhr_streaming","xhr_streaming",1,$,Y),Br=h("xdr_streaming","xdr_streaming",1,$,Y),lt=h("xhr_polling","xhr_polling",1,$),Xr=h("xdr_polling","xdr_polling",1,$),ut=new Ce([le],q),Wr=new Ce([ye],q),Vr=new Ce([zr],q),ft=new Ce([new Oe(xe(ct),ct,Br)],q),ht=new Ce([new Oe(xe(lt),lt,Xr)],q),pt=new Ce([new Oe(xe(ft),new De([ft,new Ie(ht,{delay:4e3})]),ht)],q),We=new Oe(xe(pt),pt,Vr),Ve;return o.useTLS?Ve=new De([ut,new Ie(We,{delay:2e3})]):Ve=new De([ut,new Ie(Wr,{delay:2e3}),new Ie(We,{delay:5e3})]),new Hn(new Un(new Oe(xe(le),Ve,We)),u,{ttl:18e5,timeline:o.timeline,useTLS:o.useTLS})},qn=Dn,zn=function(){var s=this;s.timeline.info(s.buildTimelineMessage({transport:s.name+(s.options.useTLS?"s":"")})),s.hooks.isInitialized()?s.changeState("initialized"):s.hooks.file?(s.changeState("initializing"),y.load(s.hooks.file,{useTLS:s.options.useTLS},function(o,a){s.hooks.isInitialized()?(s.changeState("initialized"),a(!0)):(o&&s.onError(o),s.onClose(),a(!1))})):s.onClose()},Bn={getRequest:function(s){var o=new window.XDomainRequest;return o.ontimeout=function(){s.emit("error",new L),s.close()},o.onerror=function(a){s.emit("error",a),s.close()},o.onprogress=function(){o.responseText&&o.responseText.length>0&&s.onChunk(200,o.responseText)},o.onload=function(){o.responseText&&o.responseText.length>0&&s.onChunk(200,o.responseText),s.emit("finished",200),s.close()},o},abortRequest:function(s){s.ontimeout=s.onerror=s.onprogress=s.onload=null,s.abort()}},Xn=Bn,Wn=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Vn=256*1024,Gn=function(s){Wn(o,s);function o(a,u,h){var g=s.call(this)||this;return g.hooks=a,g.method=u,g.url=h,g}return o.prototype.start=function(a){var u=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){u.close()},G.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(a)},o.prototype.close=function(){this.unloader&&(G.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},o.prototype.onChunk=function(a,u){for(;;){var h=this.advanceBuffer(u);if(h)this.emit("chunk",{status:a,data:h});else break}this.isBufferTooLong(u)&&this.emit("buffer_too_long")},o.prototype.advanceBuffer=function(a){var u=a.slice(this.position),h=u.indexOf(`
`);return h!==-1?(this.position+=h+1,u.slice(0,h)):null},o.prototype.isBufferTooLong=function(a){return this.position===a.length&&a.length>Vn},o}(be),Jn=Gn,ze;(function(s){s[s.CONNECTING=0]="CONNECTING",s[s.OPEN=1]="OPEN",s[s.CLOSED=3]="CLOSED"})(ze||(ze={}));var Te=ze,Yn=1,Kn=function(){function s(o,a){this.hooks=o,this.session=rt(1e3)+"/"+tr(8),this.location=Qn(a),this.readyState=Te.CONNECTING,this.openStream()}return s.prototype.send=function(o){return this.sendRaw(JSON.stringify([o]))},s.prototype.ping=function(){this.hooks.sendHeartbeat(this)},s.prototype.close=function(o,a){this.onClose(o,a,!0)},s.prototype.sendRaw=function(o){if(this.readyState===Te.OPEN)try{return G.createSocketRequest("POST",nt(Zn(this.location,this.session))).start(o),!0}catch{return!1}else return!1},s.prototype.reconnect=function(){this.closeStream(),this.openStream()},s.prototype.onClose=function(o,a,u){this.closeStream(),this.readyState=Te.CLOSED,this.onclose&&this.onclose({code:o,reason:a,wasClean:u})},s.prototype.onChunk=function(o){if(o.status===200){this.readyState===Te.OPEN&&this.onActivity();var a,u=o.data.slice(0,1);switch(u){case"o":a=JSON.parse(o.data.slice(1)||"{}"),this.onOpen(a);break;case"a":a=JSON.parse(o.data.slice(1)||"[]");for(var h=0;h<a.length;h++)this.onEvent(a[h]);break;case"m":a=JSON.parse(o.data.slice(1)||"null"),this.onEvent(a);break;case"h":this.hooks.onHeartbeat(this);break;case"c":a=JSON.parse(o.data.slice(1)||"[]"),this.onClose(a[0],a[1],!0);break}}},s.prototype.onOpen=function(o){this.readyState===Te.CONNECTING?(o&&o.hostname&&(this.location.base=er(this.location.base,o.hostname)),this.readyState=Te.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},s.prototype.onEvent=function(o){this.readyState===Te.OPEN&&this.onmessage&&this.onmessage({data:o})},s.prototype.onActivity=function(){this.onactivity&&this.onactivity()},s.prototype.onError=function(o){this.onerror&&this.onerror(o)},s.prototype.openStream=function(){var o=this;this.stream=G.createSocketRequest("POST",nt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(a){o.onChunk(a)}),this.stream.bind("finished",function(a){o.hooks.onFinished(o,a)}),this.stream.bind("buffer_too_long",function(){o.reconnect()});try{this.stream.start()}catch(a){oe.defer(function(){o.onError(a),o.onClose(1006,"Could not start streaming",!1)})}},s.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},s}();function Qn(s){var o=/([^\?]*)\/*(\??.*)/.exec(s);return{base:o[1],queryString:o[2]}}function Zn(s,o){return s.base+"/"+o+"/xhr_send"}function nt(s){var o=s.indexOf("?")===-1?"?":"&";return s+o+"t="+ +new Date+"&n="+Yn++}function er(s,o){var a=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(s);return a[1]+o+a[3]}function rt(s){return G.randomInt(s)}function tr(s){for(var o=[],a=0;a<s;a++)o.push(rt(32).toString(32));return o.join("")}var nr=Kn,rr={getReceiveURL:function(s,o){return s.base+"/"+o+"/xhr_streaming"+s.queryString},onHeartbeat:function(s){s.sendRaw("[]")},sendHeartbeat:function(s){s.sendRaw("[]")},onFinished:function(s,o){s.onClose(1006,"Connection interrupted ("+o+")",!1)}},ir=rr,or={getReceiveURL:function(s,o){return s.base+"/"+o+"/xhr"+s.queryString},onHeartbeat:function(){},sendHeartbeat:function(s){s.sendRaw("[]")},onFinished:function(s,o){o===200?s.reconnect():s.onClose(1006,"Connection interrupted ("+o+")",!1)}},sr=or,ar={getRequest:function(s){var o=G.getXHRAPI(),a=new o;return a.onreadystatechange=a.onprogress=function(){switch(a.readyState){case 3:a.responseText&&a.responseText.length>0&&s.onChunk(a.status,a.responseText);break;case 4:a.responseText&&a.responseText.length>0&&s.onChunk(a.status,a.responseText),s.emit("finished",a.status),s.close();break}},a},abortRequest:function(s){s.onreadystatechange=null,s.abort()}},cr=ar,lr={createStreamingSocket:function(s){return this.createSocket(ir,s)},createPollingSocket:function(s){return this.createSocket(sr,s)},createSocket:function(s,o){return new nr(s,o)},createXHR:function(s,o){return this.createRequest(cr,s,o)},createRequest:function(s,o,a){return new Jn(s,o,a)}},it=lr;it.createXDR=function(s,o){return this.createRequest(Xn,s,o)};var ur=it,fr={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l,DependenciesReceivers:d,getDefaultStrategy:qn,Transports:Xt,transportConnectionInitializer:zn,HTTPFactory:ur,TimelineTransport:Rt,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(s){var o=this;window.Pusher=s;var a=function(){o.onDocumentBody(s.ready)};window.JSON?a():y.load("json2",{},a)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:U,jsonp:bt}},onDocumentBody:function(s){var o=this;document.body?s():setTimeout(function(){o.onDocumentBody(s)},0)},createJSONPRequest:function(s,o){return new Ct(s,o)},createScriptRequest:function(s){return new St(s)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var s=this.getXHRAPI();return new s},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Gt},createWebSocket:function(s){var o=this.getWebSocketAPI();return new o(s)},createSocketRequest:function(s,o){if(this.isXHRSupported())return this.HTTPFactory.createXHR(s,o);if(this.isXDRSupported(o.indexOf("https:")===0))return this.HTTPFactory.createXDR(s,o);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var s=this.getXHRAPI();return Boolean(s)&&new s().withCredentials!==void 0},isXDRSupported:function(s){var o=s?"https:":"http:",a=this.getProtocol();return Boolean(window.XDomainRequest)&&a===o},addUnloadListener:function(s){window.addEventListener!==void 0?window.addEventListener("unload",s,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",s)},removeUnloadListener:function(s){window.addEventListener!==void 0?window.removeEventListener("unload",s,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",s)},randomInt:function(s){var o=function(){var a=window.crypto||window.msCrypto,u=a.getRandomValues(new Uint32Array(1))[0];return u/Math.pow(2,32)};return Math.floor(o()*s)}},G=fr,Be;(function(s){s[s.ERROR=3]="ERROR",s[s.INFO=6]="INFO",s[s.DEBUG=7]="DEBUG"})(Be||(Be={}));var He=Be,hr=function(){function s(o,a,u){this.key=o,this.session=a,this.events=[],this.options=u||{},this.sent=0,this.uniqueID=0}return s.prototype.log=function(o,a){o<=this.options.level&&(this.events.push(se({},a,{timestamp:oe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},s.prototype.error=function(o){this.log(He.ERROR,o)},s.prototype.info=function(o){this.log(He.INFO,o)},s.prototype.debug=function(o){this.log(He.DEBUG,o)},s.prototype.isEmpty=function(){return this.events.length===0},s.prototype.send=function(o,a){var u=this,h=se({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],o(h,function(g,P){g||u.sent++,a&&a(g,P)}),!0},s.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},s}(),pr=hr,dr=function(){function s(o,a,u,h){this.name=o,this.priority=a,this.transport=u,this.options=h||{}}return s.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},s.prototype.connect=function(o,a){var u=this;if(this.isSupported()){if(this.priority<o)return ot(new x,a)}else return ot(new z,a);var h=!1,g=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),P=null,$=function(){g.unbind("initialized",$),g.connect()},q=function(){P=ke.createHandshake(g,function(ye){h=!0,le(),a(null,ye)})},N=function(ye){le(),a(ye)},Y=function(){le();var ye;ye=Ae(g),a(new H(ye))},le=function(){g.unbind("initialized",$),g.unbind("open",q),g.unbind("error",N),g.unbind("closed",Y)};return g.bind("initialized",$),g.bind("open",q),g.bind("error",N),g.bind("closed",Y),g.initialize(),{abort:function(){h||(le(),P?P.close():g.close())},forceMinPriority:function(ye){h||u.priority<ye&&(P?P.close():g.close())}}},s}(),_r=dr;function ot(s,o){return oe.defer(function(){o(s)}),{abort:function(){},forceMinPriority:function(){}}}var mr=G.Transports,gr=function(s,o,a,u,h,g){var P=mr[a];if(!P)throw new I(a);var $=(!s.enabledTransports||Q(s.enabledTransports,o)!==-1)&&(!s.disabledTransports||Q(s.disabledTransports,o)===-1),q;return $?(h=Object.assign({ignoreNullOrigin:s.ignoreNullOrigin},h),q=new _r(o,u,g?g.getAssistant(P):P,h)):q=vr,q},vr={isSupported:function(){return!1},connect:function(s,o){var a=oe.defer(function(){o(new z)});return{abort:function(){a.ensureAborted()},forceMinPriority:function(){}}}},yr=function(s,o){var a="socket_id="+encodeURIComponent(s.socketId);for(var u in o.params)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(o.params[u]);if(o.paramsProvider!=null){var h=o.paramsProvider();for(var u in h)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(h[u])}return a},br=function(s){if(typeof G.getAuthorizers()[s.transport]>"u")throw"'"+s.transport+"' is not a recognized auth transport";return function(o,a){var u=yr(o,s);G.getAuthorizers()[s.transport](G,u,s,S.UserAuthentication,a)}},kr=br,Sr=function(s,o){var a="socket_id="+encodeURIComponent(s.socketId);a+="&channel_name="+encodeURIComponent(s.channelName);for(var u in o.params)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(o.params[u]);if(o.paramsProvider!=null){var h=o.paramsProvider();for(var u in h)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(h[u])}return a},wr=function(s){if(typeof G.getAuthorizers()[s.transport]>"u")throw"'"+s.transport+"' is not a recognized auth transport";return function(o,a){var u=Sr(o,s);G.getAuthorizers()[s.transport](G,u,s,S.ChannelAuthorization,a)}},Cr=wr,Tr=function(s,o,a){var u={authTransport:o.transport,authEndpoint:o.endpoint,auth:{params:o.params,headers:o.headers}};return function(h,g){var P=s.channel(h.channelName),$=a(P,u);$.authorize(h.socketId,g)}},Ee=function(){return Ee=Object.assign||function(s){for(var o,a=1,u=arguments.length;a<u;a++){o=arguments[a];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])}return s},Ee.apply(this,arguments)};function Pr(s,o){var a={activityTimeout:s.activityTimeout||p.activityTimeout,cluster:s.cluster||p.cluster,httpPath:s.httpPath||p.httpPath,httpPort:s.httpPort||p.httpPort,httpsPort:s.httpsPort||p.httpsPort,pongTimeout:s.pongTimeout||p.pongTimeout,statsHost:s.statsHost||p.stats_host,unavailableTimeout:s.unavailableTimeout||p.unavailableTimeout,wsPath:s.wsPath||p.wsPath,wsPort:s.wsPort||p.wsPort,wssPort:s.wssPort||p.wssPort,enableStats:xr(s),httpHost:Rr(s),useTLS:Or(s),wsHost:Er(s),userAuthenticator:Ar(s),channelAuthorizer:Ir(s,o)};return"disabledTransports"in s&&(a.disabledTransports=s.disabledTransports),"enabledTransports"in s&&(a.enabledTransports=s.enabledTransports),"ignoreNullOrigin"in s&&(a.ignoreNullOrigin=s.ignoreNullOrigin),"timelineParams"in s&&(a.timelineParams=s.timelineParams),"nacl"in s&&(a.nacl=s.nacl),a}function Rr(s){return s.httpHost?s.httpHost:s.cluster?"sockjs-"+s.cluster+".pusher.com":p.httpHost}function Er(s){return s.wsHost?s.wsHost:s.cluster?st(s.cluster):st(p.cluster)}function st(s){return"ws-"+s+".pusher.com"}function Or(s){return G.getProtocol()==="https:"?!0:s.forceTLS!==!1}function xr(s){return"enableStats"in s?s.enableStats:"disableStats"in s?!s.disableStats:!1}function Ar(s){var o=Ee(Ee({},p.userAuthentication),s.userAuthentication);return"customHandler"in o&&o.customHandler!=null?o.customHandler:kr(o)}function $r(s,o){var a;return"channelAuthorization"in s?a=Ee(Ee({},p.channelAuthorization),s.channelAuthorization):(a={transport:s.authTransport||p.authTransport,endpoint:s.authEndpoint||p.authEndpoint},"auth"in s&&("params"in s.auth&&(a.params=s.auth.params),"headers"in s.auth&&(a.headers=s.auth.headers)),"authorizer"in s&&(a.customHandler=Tr(o,a,s.authorizer))),a}function Ir(s,o){var a=$r(s,o);return"customHandler"in a&&a.customHandler!=null?a.customHandler:Cr(a)}var Hr=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Lr=function(s){Hr(o,s);function o(a){var u=s.call(this,function(h,g){re.debug("No callbacks on watchlist events for "+h)})||this;return u.pusher=a,u.bindWatchlistInternalEvent(),u}return o.prototype.handleEvent=function(a){var u=this;a.data.events.forEach(function(h){u.emit(h.name,h)})},o.prototype.bindWatchlistInternalEvent=function(){var a=this;this.pusher.connection.bind("message",function(u){var h=u.event;h==="pusher_internal:watchlist_events"&&a.handleEvent(u)})},o}(be),Fr=Lr;function Nr(){var s,o,a=new Promise(function(u,h){s=u,o=h});return{promise:a,resolve:s,reject:o}}var Mr=Nr,jr=function(){var s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])},s(o,a)};return function(o,a){s(o,a);function u(){this.constructor=o}o.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Ur=function(s){jr(o,s);function o(a){var u=s.call(this,function(h,g){re.debug("No callbacks on user for "+h)})||this;return u.signin_requested=!1,u.user_data=null,u.serverToUserChannel=null,u.signinDonePromise=null,u._signinDoneResolve=null,u._onAuthorize=function(h,g){if(h){re.warn("Error during signin: "+h),u._cleanup();return}u.pusher.send_event("pusher:signin",{auth:g.auth,user_data:g.user_data})},u.pusher=a,u.pusher.connection.bind("state_change",function(h){var g=h.previous,P=h.current;g!=="connected"&&P==="connected"&&u._signin(),g==="connected"&&P!=="connected"&&(u._cleanup(),u._newSigninPromiseIfNeeded())}),u.watchlist=new Fr(a),u.pusher.connection.bind("message",function(h){var g=h.event;g==="pusher:signin_success"&&u._onSigninSuccess(h.data),u.serverToUserChannel&&u.serverToUserChannel.name===h.channel&&u.serverToUserChannel.handleEvent(h)}),u}return o.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},o.prototype._signin=function(){!this.signin_requested||(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},o.prototype._onSigninSuccess=function(a){try{this.user_data=JSON.parse(a.user_data)}catch{re.error("Failed parsing user data after signin: "+a.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){re.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},o.prototype._subscribeChannels=function(){var a=this,u=function(h){h.subscriptionPending&&h.subscriptionCancelled?h.reinstateSubscription():!h.subscriptionPending&&a.pusher.connection.state==="connected"&&h.subscribe()};this.serverToUserChannel=new Me("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(h,g){h.indexOf("pusher_internal:")===0||h.indexOf("pusher:")===0||a.emit(h,g)}),u(this.serverToUserChannel)},o.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},o.prototype._newSigninPromiseIfNeeded=function(){if(!!this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var a=Mr(),u=a.promise,h=a.resolve;u.done=!1;var g=function(){u.done=!0};u.then(g).catch(g),this.signinDonePromise=u,this._signinDoneResolve=h}},o}(be),Dr=Ur,at=function(){function s(o,a){var u=this;if(qr(o),a=a||{},!a.cluster&&!(a.wsHost||a.httpHost)){var h=k.buildLogSuffix("javascriptQuickStart");re.warn("You should always specify a cluster when connecting. "+h)}"disableStats"in a&&re.warn("The disableStats option is deprecated in favor of enableStats"),this.key=o,this.config=Pr(a,this),this.channels=ke.createChannels(),this.global_emitter=new be,this.sessionID=G.randomInt(1e9),this.timeline=new pr(this.key,this.sessionID,{cluster:this.config.cluster,features:s.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:He.INFO,version:p.VERSION}),this.config.enableStats&&(this.timelineSender=ke.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+G.TimelineTransport.name}));var g=function(P){return G.getDefaultStrategy(u.config,P,gr)};this.connection=ke.createConnectionManager(this.key,{getStrategy:g,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",function(){u.subscribeAll(),u.timelineSender&&u.timelineSender.send(u.connection.isUsingTLS())}),this.connection.bind("message",function(P){var $=P.event,q=$.indexOf("pusher_internal:")===0;if(P.channel){var N=u.channel(P.channel);N&&N.handleEvent(P)}q||u.global_emitter.emit(P.event,P.data)}),this.connection.bind("connecting",function(){u.channels.disconnect()}),this.connection.bind("disconnected",function(){u.channels.disconnect()}),this.connection.bind("error",function(P){re.warn(P)}),s.instances.push(this),this.timeline.info({instances:s.instances.length}),this.user=new Dr(this),s.isReady&&this.connect()}return s.ready=function(){s.isReady=!0;for(var o=0,a=s.instances.length;o<a;o++)s.instances[o].connect()},s.getClientFeatures=function(){return ee(D({ws:G.Transports.ws},function(o){return o.isSupported({})}))},s.prototype.channel=function(o){return this.channels.find(o)},s.prototype.allChannels=function(){return this.channels.all()},s.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var o=this.connection.isUsingTLS(),a=this.timelineSender;this.timelineSenderTimer=new ge(6e4,function(){a.send(o)})}},s.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},s.prototype.bind=function(o,a,u){return this.global_emitter.bind(o,a,u),this},s.prototype.unbind=function(o,a,u){return this.global_emitter.unbind(o,a,u),this},s.prototype.bind_global=function(o){return this.global_emitter.bind_global(o),this},s.prototype.unbind_global=function(o){return this.global_emitter.unbind_global(o),this},s.prototype.unbind_all=function(o){return this.global_emitter.unbind_all(),this},s.prototype.subscribeAll=function(){var o;for(o in this.channels.channels)this.channels.channels.hasOwnProperty(o)&&this.subscribe(o)},s.prototype.subscribe=function(o){var a=this.channels.add(o,this);return a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():!a.subscriptionPending&&this.connection.state==="connected"&&a.subscribe(),a},s.prototype.unsubscribe=function(o){var a=this.channels.find(o);a&&a.subscriptionPending?a.cancelSubscription():(a=this.channels.remove(o),a&&a.subscribed&&a.unsubscribe())},s.prototype.send_event=function(o,a,u){return this.connection.send_event(o,a,u)},s.prototype.shouldUseTLS=function(){return this.config.useTLS},s.prototype.signin=function(){this.user.signin()},s.instances=[],s.isReady=!1,s.logToConsole=!1,s.Runtime=G,s.ScriptReceivers=G.ScriptReceivers,s.DependenciesReceivers=G.DependenciesReceivers,s.auth_callbacks=G.auth_callbacks,s}(),Xe=n.default=at;function qr(s){if(s==null)throw"You must pass your app key when you instantiate Pusher."}G.setup(at)}])})})(pusher);let echo=new Echo({broadcaster:"pusher",key:"MUEHLEONLINE1",wsHost:"172.20.10.2",wsPort:"6001",forceTLS:!1,disableStatus:!0});function leaveChannel(t){echo.leaveChannel(`${t}.${localStorage.getItem("hashedToken")}`)}var faCopy={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"]};function create_fragment$8(t){let e;return{c(){e=text(t[0])},m(r,n){insert(r,e,n)},p(r,[n]){n&1&&set_data(e,r[0])},i:noop,o:noop,d(r){r&&detach(e)}}}function instance$6(t,e,r){let{date:n=new Date}=e,i="",c=setInterval(function(){let l=new Date().getTime(),f=n.getTime()-l,p=Math.floor(f%(1e3*60*60)/(1e3*60)),_=Math.floor(f%(1e3*60)/1e3);r(0,i=p+"m "+_+"s "),f<1e3&&clearInterval(c)},1e3);return t.$$set=l=>{"date"in l&&r(1,n=l.date)},[i,n]}class Countdown extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$8,safe_not_equal,{date:1})}}const HomePage_svelte_svelte_type_style_lang="";function get_each_context$1(t,e,r){const n=t.slice();return n[18]=e[r],n}function create_if_block_2(t){let e,r;return e=new Modal({props:{$$slots:{default:[create_default_slot_2$3]},$$scope:{ctx:t}}}),e.$on("close",t[14]),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&2097154&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_2$3(t){let e,r,n,i,c;return{c(){e=element("h3"),e.textContent="Please finish ongoing games first.",r=space(),n=element("button"),n.textContent="Ok"},m(l,f){insert(l,e,f),insert(l,r,f),insert(l,n,f),i||(c=listen(n,"click",t[13]),i=!0)},p:noop,d(l){l&&detach(e),l&&detach(r),l&&detach(n),i=!1,c()}}}function create_default_slot_1$3(t){let e,r,n,i,c,l,f,p,_,m,d,y,v;return{c(){e=element("span"),r=text(t[5]),n=space(),i=element("span"),c=text(t[4]),l=space(),f=element("div"),p=element("img"),m=space(),d=element("button"),d.textContent="Logout",attr(e,"class","navbar-text c-text me-2"),attr(i,"class","navbar-text c-text me-2"),src_url_equal(p.src,_="https://api.dicebear.com/5.x/initials/svg?seed="+t[4])||attr(p,"src",_),attr(p,"alt","profile"),attr(p,"width","30px"),attr(p,"height","30px"),attr(f,"class","me-3"),attr(d,"class","btn btn-outline-danger"),attr(d,"type","button")},m(b,k){insert(b,e,k),append(e,r),insert(b,n,k),insert(b,i,k),append(i,c),insert(b,l,k),insert(b,f,k),append(f,p),insert(b,m,k),insert(b,d,k),y||(v=listen(d,"click",t[12]),y=!0)},p(b,k){k&32&&set_data(r,b[5]),k&16&&set_data(c,b[4]),k&16&&!src_url_equal(p.src,_="https://api.dicebear.com/5.x/initials/svg?seed="+b[4])&&attr(p,"src",_)},d(b){b&&detach(e),b&&detach(n),b&&detach(i),b&&detach(l),b&&detach(f),b&&detach(m),b&&detach(d),y=!1,v()}}}function create_if_block_1$1(t){let e,r,n,i,c,l,f,p,_,m,d,y,v,b,k,S,w,T,A,L,x,H,F,I,z,R,W;return c=new Fa({props:{icon:faGamepad,color:"#ffffff",size:"2x"}}),w=new Countdown({props:{date:t[7]}}),{c(){e=element("div"),r=element("div"),n=element("div"),i=element("div"),create_component(c.$$.fragment),l=space(),f=element("div"),f.innerHTML="<h3>Active Game</h3>",p=space(),_=element("div"),m=space(),d=element("div"),d.innerHTML='<div class="col"><p>You still have one active game.</p></div>',y=space(),v=element("div"),b=element("div"),k=element("p"),S=text("You have "),create_component(w.$$.fragment),T=text(" to join left."),A=space(),L=element("div"),x=element("button"),x.textContent="Re-join",H=space(),F=element("div"),I=element("button"),I.textContent="Quit",attr(i,"class","col-auto"),attr(f,"class","col c-text"),attr(n,"class","row"),attr(r,"class","card-header bgc-secondary"),attr(_,"class","card-body svelte-y1lqo7"),attr(d,"class","row"),attr(b,"class","col-auto"),attr(x,"type","button"),attr(x,"class","btn btn-success"),attr(L,"class","col-auto"),attr(I,"type","button"),attr(I,"class","btn btn-danger"),attr(F,"class","col-auto"),attr(v,"class","row"),attr(e,"class","card card-border svelte-y1lqo7")},m(U,te){insert(U,e,te),append(e,r),append(r,n),append(n,i),mount_component(c,i,null),append(n,l),append(n,f),append(e,p),append(e,_),append(e,m),append(e,d),append(e,y),append(e,v),append(v,b),append(b,k),append(k,S),mount_component(w,k,null),append(k,T),append(v,A),append(v,L),append(L,x),append(v,H),append(v,F),append(F,I),z=!0,R||(W=[listen(x,"click",t[15]),listen(I,"click",t[8])],R=!0)},p(U,te){const ne={};te&128&&(ne.date=U[7]),w.$set(ne)},i(U){z||(transition_in(c.$$.fragment,U),transition_in(w.$$.fragment,U),z=!0)},o(U){transition_out(c.$$.fragment,U),transition_out(w.$$.fragment,U),z=!1},d(U){U&&detach(e),destroy_component(c),destroy_component(w),R=!1,run_all(W)}}}function create_each_block$1(t){let e,r,n,i;return r=new GameHistory({props:{username:t[4],count:t[6].indexOf(t[18])+1,won:t[18].won,opponent:t[18].opponent,playtime:t[18].play_time,start_date:t[18].start_date,elo:t[18].elo}}),{c(){e=element("div"),create_component(r.$$.fragment),n=space(),attr(e,"class","mb-2")},m(c,l){insert(c,e,l),mount_component(r,e,null),append(e,n),i=!0},p(c,l){const f={};l&16&&(f.username=c[4]),l&64&&(f.count=c[6].indexOf(c[18])+1),l&64&&(f.won=c[18].won),l&64&&(f.opponent=c[18].opponent),l&64&&(f.playtime=c[18].play_time),l&64&&(f.start_date=c[18].start_date),l&64&&(f.elo=c[18].elo),r.$set(f)},i(c){i||(transition_in(r.$$.fragment,c),i=!0)},o(c){transition_out(r.$$.fragment,c),i=!1},d(c){c&&detach(e),destroy_component(r)}}}function create_if_block$2(t){let e,r;return e=new Modal({props:{$$slots:{default:[create_default_slot$3]},$$scope:{ctx:t}}}),e.$on("close",t[16]),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&2097156&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot$3(t){let e,r,n,i,c,l,f,p,_,m,d,y,v,b;return _=new Fa({props:{icon:faCopy,color:"#000000"}}),{c(){e=element("h1"),e.textContent="This is the start game modal",r=space(),n=element("div"),i=element("div"),c=element("input"),l=space(),f=element("div"),p=element("button"),create_component(_.$$.fragment),m=space(),d=element("p"),d.textContent=`Send the Link to a friend the game will start as soon as your friend\r
        joins`,attr(c,"type","text"),attr(c,"class","form-control"),c.value=t[2],attr(p,"class","btn btn-link"),attr(p,"type","button"),attr(f,"class","input-group-append"),attr(i,"class","input-group mb-3")},m(k,S){insert(k,e,S),insert(k,r,S),insert(k,n,S),append(n,i),append(i,c),append(i,l),append(i,f),append(f,p),mount_component(_,p,null),append(n,m),append(n,d),y=!0,v||(b=listen(p,"click",t[10]),v=!0)},p(k,S){(!y||S&4&&c.value!==k[2])&&(c.value=k[2])},i(k){y||(transition_in(_.$$.fragment,k),y=!0)},o(k){transition_out(_.$$.fragment,k),y=!1},d(k){k&&detach(e),k&&detach(r),k&&detach(n),destroy_component(_),v=!1,b()}}}function create_fragment$7(t){let e,r,n,i,c,l,f,p,_,m,d,y,v,b,k,S,w,T,A,L,x,H,F,I,z,R,W,U,te,ne,ie,ce,he,fe,pe,Z,E,V,M,de,ue,ge,_e,oe,se,ae=t[1]&&create_if_block_2(t);r=new Navbar({props:{$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:t}}}),T=new Fa({props:{icon:faChartColumn,color:"#ffffff",size:"2x"}});let Q=t[3]&&create_if_block_1$1(t);fe=new Fa({props:{icon:faClockRotateLeft,color:"#ffffff",size:"2x"}});let J=t[6],ee=[];for(let j=0;j<J.length;j+=1)ee[j]=create_each_block$1(get_each_context$1(t,J,j));const me=j=>transition_out(ee[j],1,1,()=>{ee[j]=null});let X=t[0]&&create_if_block$2(t);return{c(){ae&&ae.c(),e=space(),create_component(r.$$.fragment),n=space(),i=element("div"),c=element("div"),c.innerHTML='<div class="col"><h3>Home</h3></div>',l=space(),f=element("div"),p=element("div"),_=element("p"),_.textContent="This is gonna be the home/statistics page after the user is logged in",m=space(),d=element("button"),d.textContent="Play Now!",y=space(),v=element("div"),b=element("div"),k=element("div"),S=element("div"),w=element("div"),create_component(T.$$.fragment),A=space(),L=element("div"),L.innerHTML="<h3>Statistics</h3>",x=space(),H=element("div"),F=space(),I=element("p"),I.textContent="Here could be some game statistics",z=space(),R=element("div"),W=element("div"),Q&&Q.c(),U=space(),te=element("div"),ne=element("div"),ie=element("div"),ce=element("div"),he=element("div"),create_component(fe.$$.fragment),pe=space(),Z=element("div"),Z.innerHTML="<h3>Game History</h3>",E=space(),V=element("div"),M=space(),de=element("div");for(let j=0;j<ee.length;j+=1)ee[j].c();ue=space(),X&&X.c(),ge=empty(),attr(c,"class","row"),attr(p,"class","col-5"),attr(w,"class","col-auto"),attr(L,"class","col c-text"),attr(S,"class","row"),attr(k,"class","card-header bgc-secondary"),attr(H,"class","card-body svelte-y1lqo7"),attr(b,"class","card card-border svelte-y1lqo7"),attr(v,"class","col"),attr(f,"class","row mb-3"),attr(W,"class","col-5"),attr(he,"class","col-auto"),attr(Z,"class","col c-text"),attr(ce,"class","row"),attr(ie,"class","card-header bgc-secondary"),attr(V,"class","card-body svelte-y1lqo7"),attr(de,"class","container history svelte-y1lqo7"),attr(ne,"class","card card-border svelte-y1lqo7"),attr(te,"class","col"),attr(R,"class","row"),attr(i,"class","container-fluid bgc-primary h-100")},m(j,C){ae&&ae.m(j,C),insert(j,e,C),mount_component(r,j,C),insert(j,n,C),insert(j,i,C),append(i,c),append(i,l),append(i,f),append(f,p),append(p,_),append(p,m),append(p,d),append(f,y),append(f,v),append(v,b),append(b,k),append(k,S),append(S,w),mount_component(T,w,null),append(S,A),append(S,L),append(b,x),append(b,H),append(b,F),append(b,I),append(i,z),append(i,R),append(R,W),Q&&Q.m(W,null),append(R,U),append(R,te),append(te,ne),append(ne,ie),append(ie,ce),append(ce,he),mount_component(fe,he,null),append(ce,pe),append(ce,Z),append(ne,E),append(ne,V),append(ne,M),append(ne,de);for(let O=0;O<ee.length;O+=1)ee[O].m(de,null);insert(j,ue,C),X&&X.m(j,C),insert(j,ge,C),_e=!0,oe||(se=listen(d,"click",t[11]),oe=!0)},p(j,[C]){j[1]?ae?(ae.p(j,C),C&2&&transition_in(ae,1)):(ae=create_if_block_2(j),ae.c(),transition_in(ae,1),ae.m(e.parentNode,e)):ae&&(group_outros(),transition_out(ae,1,1,()=>{ae=null}),check_outros());const O={};if(C&2097200&&(O.$$scope={dirty:C,ctx:j}),r.$set(O),j[3]?Q?(Q.p(j,C),C&8&&transition_in(Q,1)):(Q=create_if_block_1$1(j),Q.c(),transition_in(Q,1),Q.m(W,null)):Q&&(group_outros(),transition_out(Q,1,1,()=>{Q=null}),check_outros()),C&80){J=j[6];let D;for(D=0;D<J.length;D+=1){const Se=get_each_context$1(j,J,D);ee[D]?(ee[D].p(Se,C),transition_in(ee[D],1)):(ee[D]=create_each_block$1(Se),ee[D].c(),transition_in(ee[D],1),ee[D].m(de,null))}for(group_outros(),D=J.length;D<ee.length;D+=1)me(D);check_outros()}j[0]?X?(X.p(j,C),C&1&&transition_in(X,1)):(X=create_if_block$2(j),X.c(),transition_in(X,1),X.m(ge.parentNode,ge)):X&&(group_outros(),transition_out(X,1,1,()=>{X=null}),check_outros())},i(j){if(!_e){transition_in(ae),transition_in(r.$$.fragment,j),transition_in(T.$$.fragment,j),transition_in(Q),transition_in(fe.$$.fragment,j);for(let C=0;C<J.length;C+=1)transition_in(ee[C]);transition_in(X),_e=!0}},o(j){transition_out(ae),transition_out(r.$$.fragment,j),transition_out(T.$$.fragment,j),transition_out(Q),transition_out(fe.$$.fragment,j),ee=ee.filter(Boolean);for(let C=0;C<ee.length;C+=1)transition_out(ee[C]);transition_out(X),_e=!1},d(j){ae&&ae.d(j),j&&detach(e),destroy_component(r,j),j&&detach(n),j&&detach(i),destroy_component(T),Q&&Q.d(),destroy_component(fe),destroy_each(ee,j),j&&detach(ue),X&&X.d(j),j&&detach(ge),oe=!1,se()}}}function instance$5(t,e,r){echo.channel("player_ready."+localStorage.getItem("hashedToken")).listen("PlayerReady",x=>{x.ready&&(leaveChannel("player_ready."+localStorage.getItem("hashedToken")),v("/gamePage"))});let n=!1,i=!1,c="",l=!1,f="",p=1e3,_=[],m=new Date;onMount(()=>{y()});async function d(){AuthorizedGetRequest("game/quit").then(()=>{r(3,l=!1),y()}).catch(x=>{console.log(x)})}async function y(){await AuthorizedGetRequest("user/info").then(x=>{r(4,f=x.user.name),r(5,p=x.user.elo),r(3,l=x.game.active),r(6,_=x.history),r(7,m=new Date(x.game.time_to_move))}).catch(x=>{console.log(x)})}const v=useNavigate();function b(){navigator.clipboard.writeText(c)}async function k(){let x=await AuthorizedRequest("game/create").catch(H=>{r(1,i=!0),console.log(H)});x&&(r(2,c=x.invite_link),r(0,n=!0))}async function S(){await AuthorizedRequest("auth/logout").catch(x=>{console.log(x)}),v("/")}return[n,i,c,l,f,p,_,m,d,v,b,k,S,()=>r(1,i=!1),()=>r(1,i=!1),()=>{v("/gamePage")},()=>r(0,n=!1)]}class HomePage extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$7,safe_not_equal,{})}}const Circle_svelte_svelte_type_style_lang="";function create_fragment$6(t){let e,r,n,i,c;return{c(){e=svg_element("circle"),attr(e,"cx",r=t[0]+"%"),attr(e,"cy",n=t[1]+"%"),attr(e,"r","15"),attr(e,"class","svelte-s5vy2l"),toggle_class(e,"possible",t[2]),toggle_class(e,"disabled",t[3])},m(l,f){insert(l,e,f),i||(c=listen(e,"click",t[6]),i=!0)},p(l,[f]){f&1&&r!==(r=l[0]+"%")&&attr(e,"cx",r),f&2&&n!==(n=l[1]+"%")&&attr(e,"cy",n),f&4&&toggle_class(e,"possible",l[2]),f&8&&toggle_class(e,"disabled",l[3])},i:noop,o:noop,d(l){l&&detach(e),i=!1,c()}}}function instance$4(t,e,r){let{x:n=0}=e,{y:i=0}=e,{index:c=0}=e,{status:l="initial"}=e,{isPossible:f=!1}=e,{isDisabled:p=!1}=e;function _(m){bubble.call(this,t,m)}return t.$$set=m=>{"x"in m&&r(0,n=m.x),"y"in m&&r(1,i=m.y),"index"in m&&r(4,c=m.index),"status"in m&&r(5,l=m.status),"isPossible"in m&&r(2,f=m.isPossible),"isDisabled"in m&&r(3,p=m.isDisabled)},[n,i,f,p,c,l,_]}class Circle extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$6,safe_not_equal,{x:0,y:1,index:4,status:5,isPossible:2,isDisabled:3})}}let positions=[[5,5],[50,5],[95,5],[95,50],[95,95],[50,95],[5,95],[5,50],[20,20],[50,20],[80,20],[80,50],[80,80],[50,80],[20,80],[20,50],[35,35],[50,35],[65,35],[65,50],[65,65],[50,65],[35,65],[35,50]];function cubicInOut(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function quintOut(t){return--t*t*t*t*t+1}function draw(t,{delay:e=0,speed:r,duration:n,easing:i=cubicInOut}={}){let c=t.getTotalLength();const l=getComputedStyle(t);return l.strokeLinecap!=="butt"&&(c+=parseInt(l.strokeWidth)),n===void 0?r===void 0?n=800:n=c/r:typeof n=="function"&&(n=n(c)),{delay:e,duration:n,easing:i,css:(f,p)=>`stroke-dasharray: ${f*c} ${p*c}`}}const Stone_svelte_svelte_type_style_lang="";function create_fragment$5(t){let e,r,n,i,c,l,f,p;return{c(){e=svg_element("circle"),attr(e,"cx",r=t[0]+"%"),attr(e,"cy",n=t[1]+"%"),attr(e,"r","22"),attr(e,"class","svelte-98982z"),toggle_class(e,"selected",t[3]),toggle_class(e,"white",t[2]),toggle_class(e,"black",!t[2]),toggle_class(e,"disabled",t[4]),toggle_class(e,"deletable",t[5])},m(_,m){insert(_,e,m),l=!0,f||(p=listen(e,"click",t[6]),f=!0)},p(_,[m]){t=_,(!l||m&1&&r!==(r=t[0]+"%"))&&attr(e,"cx",r),(!l||m&2&&n!==(n=t[1]+"%"))&&attr(e,"cy",n),(!l||m&8)&&toggle_class(e,"selected",t[3]),(!l||m&4)&&toggle_class(e,"white",t[2]),(!l||m&4)&&toggle_class(e,"black",!t[2]),(!l||m&16)&&toggle_class(e,"disabled",t[4]),(!l||m&32)&&toggle_class(e,"deletable",t[5])},i(_){l||(add_render_callback(()=>{c&&c.end(1),i=create_in_transition(e,draw,{duration:1e3,easing:quintOut}),i.start()}),l=!0)},o(_){i&&i.invalidate(),c=create_out_transition(e,draw,{duration:1e3,easing:quintOut}),l=!1},d(_){_&&detach(e),_&&c&&c.end(),f=!1,p()}}}function instance$3(t,e,r){let{x:n=0}=e,{y:i=0}=e,{isWhite:c=!1}=e,{isSelected:l=!1}=e,{isDisabled:f=!1}=e,{isDeletable:p=!1}=e;function _(m){bubble.call(this,t,m)}return t.$$set=m=>{"x"in m&&r(0,n=m.x),"y"in m&&r(1,i=m.y),"isWhite"in m&&r(2,c=m.isWhite),"isSelected"in m&&r(3,l=m.isSelected),"isDisabled"in m&&r(4,f=m.isDisabled),"isDeletable"in m&&r(5,p=m.isDeletable)},[n,i,c,l,f,p,_]}class Stone extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$5,safe_not_equal,{x:0,y:1,isWhite:2,isSelected:3,isDisabled:4,isDeletable:5})}}const PlayerInfo_svelte_svelte_type_style_lang="";function create_fragment$4(t){let e,r,n,i,c,l,f,p,_,m=t[0].name+"",d,y,v,b,k,S=t[0].elo+"",w,T,A,L,x=t[0].wins+"",H,F,I=t[0].losses+"",z;return{c(){e=element("div"),r=element("div"),n=element("div"),i=element("div"),c=element("img"),f=space(),p=element("div"),_=element("h4"),d=text(m),y=space(),v=element("div"),b=element("p"),k=text("Elo: "),w=text(S),T=space(),A=element("p"),L=text("Win rate: "),H=text(x),F=text("/"),z=text(I),src_url_equal(c.src,l="https://api.dicebear.com/5.x/initials/svg?seed="+t[0].name)||attr(c,"src",l),attr(c,"alt","profile"),attr(c,"width","30px"),attr(c,"height","30px"),attr(i,"class","col-auto"),set_style(i,"padding-right","4px"),attr(_,"class","text-nowrap text-truncate"),attr(p,"class","col c-text"),attr(n,"class","row"),attr(r,"class","card-header bgc-secondary"),set_style(r,"padding-left","8px",1),attr(v,"class","card-body"),attr(e,"class","card svelte-1ndq5ju"),set_style(e,"max-width","10vw"),toggle_class(e,"highlight",t[1])},m(R,W){insert(R,e,W),append(e,r),append(r,n),append(n,i),append(i,c),append(n,f),append(n,p),append(p,_),append(_,d),append(e,y),append(e,v),append(v,b),append(b,k),append(b,w),append(v,T),append(v,A),append(A,L),append(A,H),append(A,F),append(A,z)},p(R,[W]){W&1&&!src_url_equal(c.src,l="https://api.dicebear.com/5.x/initials/svg?seed="+R[0].name)&&attr(c,"src",l),W&1&&m!==(m=R[0].name+"")&&set_data(d,m),W&1&&S!==(S=R[0].elo+"")&&set_data(w,S),W&1&&x!==(x=R[0].wins+"")&&set_data(H,x),W&1&&I!==(I=R[0].losses+"")&&set_data(z,I),W&2&&toggle_class(e,"highlight",R[1])},i:noop,o:noop,d(R){R&&detach(e)}}}function instance$2(t,e,r){let{user:n={}}=e,{hasTurn:i=!1}=e;return t.$$set=c=>{"user"in c&&r(0,n=c.user),"hasTurn"in c&&r(1,i=c.hasTurn)},[n,i]}class PlayerInfo extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$4,safe_not_equal,{user:0,hasTurn:1})}}let possibleMoves=[[1,7],[0,2,9],[1,3],[2,4,11],[3,5],[4,6,13],[5,7],[0,6,15],[9,15],[1,8,10,17],[9,11],[3,10,12,19],[11,13],[5,12,14,21],[13,15],[7,8,14,23],[17,23],[9,16,18],[17,19],[11,18,20],[19,21],[13,20,22],[21,23],[15,16,22]],allPossibleMills=[[0,1,2],[8,9,10],[16,17,18],[7,15,23],[19,11,3],[22,21,20],[14,13,12],[6,5,4],[0,7,6],[8,15,14],[16,23,22],[1,9,17],[21,13,5],[18,19,20],[10,11,12],[2,3,4]];function getAllMoves(t){return possibleMoves[t]}function getPossibleMoves(t,e){return possibleMoves[t].filter(i=>!e.includes(i))}function GetStonesInMill(t){if(t.filter(r=>r!=-1).length<=3)return[];let e=[];return allPossibleMills.forEach(r=>{r.every(n=>t.includes(n))&&r.forEach(n=>{let i=t.indexOf(n);e.push(t[i])})}),e}function create_fragment$3(t){let e,r,n,i,c,l,f,p,_,m,d,y,v;return{c(){e=svg_element("rect"),r=space(),n=svg_element("rect"),i=space(),c=svg_element("rect"),l=space(),f=svg_element("line"),p=space(),_=svg_element("line"),m=space(),d=svg_element("line"),y=space(),v=svg_element("line"),attr(e,"x","5%"),attr(e,"y","5%"),attr(e,"width","90%"),attr(e,"height","90%"),attr(e,"fill","none"),attr(e,"stroke","black"),attr(e,"stroke-width","5"),attr(n,"x","20%"),attr(n,"y","20%"),attr(n,"width","60%"),attr(n,"height","60%"),attr(n,"fill","none"),attr(n,"stroke","black"),attr(n,"stroke-width","5"),attr(c,"x","35%"),attr(c,"y","35%"),attr(c,"width","30%"),attr(c,"height","30%"),attr(c,"fill","none"),attr(c,"stroke","black"),attr(c,"stroke-width","5"),attr(f,"x1","5%"),attr(f,"y1","50%"),attr(f,"x2","35%"),attr(f,"y2","50%"),attr(f,"stroke","black"),attr(f,"stroke-width","5"),attr(_,"x1","65%"),attr(_,"y1","50%"),attr(_,"x2","95%"),attr(_,"y2","50%"),attr(_,"stroke","black"),attr(_,"stroke-width","5"),attr(d,"x1","50%"),attr(d,"y1","5%"),attr(d,"x2","50%"),attr(d,"y2","35%"),attr(d,"stroke","black"),attr(d,"stroke-width","5"),attr(v,"x1","50%"),attr(v,"y1","65%"),attr(v,"x2","50%"),attr(v,"y2","95%"),attr(v,"stroke","black"),attr(v,"stroke-width","5")},m(b,k){insert(b,e,k),insert(b,r,k),insert(b,n,k),insert(b,i,k),insert(b,c,k),insert(b,l,k),insert(b,f,k),insert(b,p,k),insert(b,_,k),insert(b,m,k),insert(b,d,k),insert(b,y,k),insert(b,v,k)},p:noop,i:noop,o:noop,d(b){b&&detach(e),b&&detach(r),b&&detach(n),b&&detach(i),b&&detach(c),b&&detach(l),b&&detach(f),b&&detach(p),b&&detach(_),b&&detach(m),b&&detach(d),b&&detach(y),b&&detach(v)}}}class GameField extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$3,safe_not_equal,{})}}const GamePage_svelte_svelte_type_style_lang="";function get_each_context(t,e,r){const n=t.slice();return n[34]=e[r],n[36]=r,n}function get_each_context_1(t,e,r){const n=t.slice();return n[34]=e[r],n}function get_each_context_2(t,e,r){const n=t.slice();return n[34]=e[r],n}function get_each_context_3(t,e,r){const n=t.slice();return n[41]=e[r],n[36]=r,n}function get_each_context_4(t,e,r){const n=t.slice();return n[43]=e[r],n}function get_each_context_5(t,e,r){const n=t.slice();return n[34]=e[r],n[36]=r,n}function create_default_slot_2$2(t){let e,r,n,i;return{c(){e=element("div"),r=element("button"),r.textContent="Quit Game",attr(r,"type","button"),attr(r,"class","btn btn-outline-danger"),attr(e,"class","col-auto")},m(c,l){insert(c,e,l),append(e,r),n||(i=listen(r,"click",t[20]),n=!0)},p:noop,d(c){c&&detach(e),n=!1,i()}}}function create_if_block_1(t){let e,r;return e=new Modal({props:{$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:t}}}),e.$on("close",t[22]),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i[1]&65536&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_1$2(t){let e,r,n,i,c;return{c(){e=element("h3"),e.textContent="Your opponent left the game",r=space(),n=element("button"),n.textContent="Ok"},m(l,f){insert(l,e,f),insert(l,r,f),insert(l,n,f),i||(c=listen(n,"click",t[21]),i=!0)},p:noop,d(l){l&&detach(e),l&&detach(r),l&&detach(n),i=!1,c()}}}function create_if_block$1(t){let e,r;return e=new Modal({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:t}}}),e.$on("close",t[24]),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i[0]&16384|i[1]&65536&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot$2(t){let e,r,n,i,c,l,f,p;return{c(){e=element("h3"),e.textContent="Game Over",r=space(),n=element("p"),i=text(t[14]),c=space(),l=element("button"),l.textContent="Ok"},m(_,m){insert(_,e,m),insert(_,r,m),insert(_,n,m),append(n,i),insert(_,c,m),insert(_,l,m),f||(p=listen(l,"click",t[23]),f=!0)},p(_,m){m[0]&16384&&set_data(i,_[14])},d(_){_&&detach(e),_&&detach(r),_&&detach(n),_&&detach(c),_&&detach(l),f=!1,p()}}}function create_each_block_5(t){let e,r;return e=new Stone({props:{x:50,y:20+5*t[36],isWhite:t[9]}}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i[0]&512&&(c.isWhite=n[9]),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_each_block_4(t,e){let r,n,i,c,l,f,p;return{key:t,first:null,c(){r=svg_element("line"),attr(r,"x1",n=positions[e[43][0]][0]+"%"),attr(r,"y1",i=positions[e[43][0]][1]+"%"),attr(r,"x2",c=positions[e[43][1]][0]+"%"),attr(r,"y2",l=positions[e[43][1]][1]+"%"),attr(r,"stroke",f=e[4].includes(e[43][1])?"green":"red"),attr(r,"stroke-width","5"),this.first=r},m(_,m){insert(_,r,m)},p(_,m){e=_,m[0]&32&&n!==(n=positions[e[43][0]][0]+"%")&&attr(r,"x1",n),m[0]&32&&i!==(i=positions[e[43][0]][1]+"%")&&attr(r,"y1",i),m[0]&32&&c!==(c=positions[e[43][1]][0]+"%")&&attr(r,"x2",c),m[0]&32&&l!==(l=positions[e[43][1]][1]+"%")&&attr(r,"y2",l),m[0]&48&&f!==(f=e[4].includes(e[43][1])?"green":"red")&&attr(r,"stroke",f)},i(_){p||add_render_callback(()=>{p=create_in_transition(r,draw,{duration:1500,easing:quintOut}),p.start()})},o:noop,d(_){_&&detach(r)}}}function create_each_block_3(t,e){let r,n,i;function c(){return e[25](e[36])}function l(){return e[26](e[36])}return n=new Circle({props:{status:gameState,x:e[41][0],y:e[41][1],index:e[36],isPossible:e[4].includes(e[36]),isDisabled:!e[4].includes(e[36])&&!e[7]||e[1].includes(e[36])||e[2].includes(e[36])||!e[10]}}),n.$on("click",function(){is_function(e[7]?c:l)&&(e[7]?c:l).apply(this,arguments)}),{key:t,first:null,c(){r=empty(),create_component(n.$$.fragment),this.first=r},m(f,p){insert(f,r,p),mount_component(n,f,p),i=!0},p(f,p){e=f;const _={};p[0]&16&&(_.isPossible=e[4].includes(e[36])),p[0]&1174&&(_.isDisabled=!e[4].includes(e[36])&&!e[7]||e[1].includes(e[36])||e[2].includes(e[36])||!e[10]),n.$set(_)},i(f){i||(transition_in(n.$$.fragment,f),i=!0)},o(f){transition_out(n.$$.fragment,f),i=!1},d(f){f&&detach(r),destroy_component(n,f)}}}function create_each_block_2(t,e){let r,n,i;function c(){return e[27](e[34])}return n=new Stone({props:{x:positions[e[34]][0],y:positions[e[34]][1],isWhite:e[9],isSelected:e[34]==e[6],isDisabled:e[7]||!e[10]}}),n.$on("click",c),{key:t,first:null,c(){r=empty(),create_component(n.$$.fragment),this.first=r},m(l,f){insert(l,r,f),mount_component(n,l,f),i=!0},p(l,f){e=l;const p={};f[0]&2&&(p.x=positions[e[34]][0]),f[0]&2&&(p.y=positions[e[34]][1]),f[0]&512&&(p.isWhite=e[9]),f[0]&66&&(p.isSelected=e[34]==e[6]),f[0]&1152&&(p.isDisabled=e[7]||!e[10]),n.$set(p)},i(l){i||(transition_in(n.$$.fragment,l),i=!0)},o(l){transition_out(n.$$.fragment,l),i=!1},d(l){l&&detach(r),destroy_component(n,l)}}}function create_each_block_1(t){let e,r;function n(){return t[28](t[34])}return e=new Stone({props:{x:positions[t[34]][0],y:positions[t[34]][1],isWhite:!t[9],isDisabled:!t[8],isDeletable:t[8]&&!t[3].includes(t[34])}}),e.$on("click",n),{c(){create_component(e.$$.fragment)},m(i,c){mount_component(e,i,c),r=!0},p(i,c){t=i;const l={};c[0]&4&&(l.x=positions[t[34]][0]),c[0]&4&&(l.y=positions[t[34]][1]),c[0]&512&&(l.isWhite=!t[9]),c[0]&256&&(l.isDisabled=!t[8]),c[0]&268&&(l.isDeletable=t[8]&&!t[3].includes(t[34])),e.$set(l)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_each_block(t){let e,r;return e=new Stone({props:{x:50,y:20+5*t[36],isWhite:!t[9]}}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i[0]&512&&(c.isWhite=!n[9]),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_fragment$2(t){let e,r,n,i,c,l,f,p,_,m,d,y=t[1].filter(func_1).length+"",v,b,k,S,w,T=[],A=new Map,L,x=[],H=new Map,F,I=[],z=new Map,R,W,U,te,ne,ie,ce,he=t[2].filter(func_5).length+"",fe,pe;e=new Navbar({props:{$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:t}}});let Z=t[0]&&create_if_block_1(t),E=t[13]&&create_if_block$1(t);p=new PlayerInfo({props:{user:t[11],hasTurn:t[10]}});let V=t[1].filter(func),M=[];for(let C=0;C<V.length;C+=1)M[C]=create_each_block_5(get_each_context_5(t,V,C));const de=C=>transition_out(M[C],1,1,()=>{M[C]=null});w=new GameField({});let ue=t[5];const ge=C=>C[43];for(let C=0;C<ue.length;C+=1){let O=get_each_context_4(t,ue,C),D=ge(O);A.set(D,T[C]=create_each_block_4(D,O))}let _e=positions;const oe=C=>C[36];for(let C=0;C<_e.length;C+=1){let O=get_each_context_3(t,_e,C),D=oe(O);H.set(D,x[C]=create_each_block_3(D,O))}let se=t[1].filter(func_2);const ae=C=>C[34];for(let C=0;C<se.length;C+=1){let O=get_each_context_2(t,se,C),D=ae(O);z.set(D,I[C]=create_each_block_2(D,O))}let Q=t[2].filter(func_3),J=[];for(let C=0;C<Q.length;C+=1)J[C]=create_each_block_1(get_each_context_1(t,Q,C));const ee=C=>transition_out(J[C],1,1,()=>{J[C]=null});te=new PlayerInfo({props:{user:t[12],hasTurn:!t[10]}});let me=t[2].filter(func_4),X=[];for(let C=0;C<me.length;C+=1)X[C]=create_each_block(get_each_context(t,me,C));const j=C=>transition_out(X[C],1,1,()=>{X[C]=null});return{c(){create_component(e.$$.fragment),r=space(),Z&&Z.c(),n=space(),E&&E.c(),i=space(),c=element("div"),l=element("div"),f=element("div"),create_component(p.$$.fragment),_=space(),m=svg_element("svg");for(let C=0;C<M.length;C+=1)M[C].c();d=svg_element("text"),v=text(y),b=space(),k=element("div"),S=svg_element("svg"),create_component(w.$$.fragment);for(let C=0;C<T.length;C+=1)T[C].c();L=empty();for(let C=0;C<x.length;C+=1)x[C].c();F=empty();for(let C=0;C<I.length;C+=1)I[C].c();R=empty();for(let C=0;C<J.length;C+=1)J[C].c();W=space(),U=element("div"),create_component(te.$$.fragment),ne=space(),ie=svg_element("svg");for(let C=0;C<X.length;C+=1)X[C].c();ce=svg_element("text"),fe=text(he),attr(d,"class","unplayed-number svelte-18rfmml"),attr(d,"x","50%"),attr(d,"y","90%"),attr(m,"class","none-played mt-2 svelte-18rfmml"),attr(f,"class","col-auto"),attr(S,"class","game-field svelte-18rfmml"),attr(k,"class","col d-flex justify-content-center"),attr(ce,"class","unplayed-number svelte-18rfmml"),attr(ce,"x","50%"),attr(ce,"y","90%"),attr(ie,"class","none-played mt-2 svelte-18rfmml"),attr(U,"class","col-auto"),attr(l,"class","row pt-4"),attr(c,"class","container-fluid bgc-primary h-100")},m(C,O){mount_component(e,C,O),insert(C,r,O),Z&&Z.m(C,O),insert(C,n,O),E&&E.m(C,O),insert(C,i,O),insert(C,c,O),append(c,l),append(l,f),mount_component(p,f,null),append(f,_),append(f,m);for(let D=0;D<M.length;D+=1)M[D].m(m,null);append(m,d),append(d,v),append(l,b),append(l,k),append(k,S),mount_component(w,S,null);for(let D=0;D<T.length;D+=1)T[D].m(S,null);append(S,L);for(let D=0;D<x.length;D+=1)x[D].m(S,null);append(S,F);for(let D=0;D<I.length;D+=1)I[D].m(S,null);append(S,R);for(let D=0;D<J.length;D+=1)J[D].m(S,null);append(l,W),append(l,U),mount_component(te,U,null),append(U,ne),append(U,ie);for(let D=0;D<X.length;D+=1)X[D].m(ie,null);append(ie,ce),append(ce,fe),pe=!0},p(C,O){const D={};O[1]&65536&&(D.$$scope={dirty:O,ctx:C}),e.$set(D),C[0]?Z?(Z.p(C,O),O[0]&1&&transition_in(Z,1)):(Z=create_if_block_1(C),Z.c(),transition_in(Z,1),Z.m(n.parentNode,n)):Z&&(group_outros(),transition_out(Z,1,1,()=>{Z=null}),check_outros()),C[13]?E?(E.p(C,O),O[0]&8192&&transition_in(E,1)):(E=create_if_block$1(C),E.c(),transition_in(E,1),E.m(i.parentNode,i)):E&&(group_outros(),transition_out(E,1,1,()=>{E=null}),check_outros());const Se={};if(O[0]&2048&&(Se.user=C[11]),O[0]&1024&&(Se.hasTurn=C[10]),p.$set(Se),O[0]&514){V=C[1].filter(func);let B;for(B=0;B<V.length;B+=1){const ve=get_each_context_5(C,V,B);M[B]?(M[B].p(ve,O),transition_in(M[B],1)):(M[B]=create_each_block_5(ve),M[B].c(),transition_in(M[B],1),M[B].m(m,d))}for(group_outros(),B=V.length;B<M.length;B+=1)de(B);check_outros()}if((!pe||O[0]&2)&&y!==(y=C[1].filter(func_1).length+"")&&set_data(v,y),O[0]&48&&(ue=C[5],T=update_keyed_each(T,O,ge,1,C,ue,A,S,destroy_block,create_each_block_4,L,get_each_context_4)),O[0]&394390&&(_e=positions,group_outros(),x=update_keyed_each(x,O,oe,1,C,_e,H,S,outro_and_destroy_block,create_each_block_3,F,get_each_context_3),check_outros()),O[0]&67266&&(se=C[1].filter(func_2),group_outros(),I=update_keyed_each(I,O,ae,1,C,se,z,S,outro_and_destroy_block,create_each_block_2,R,get_each_context_2),check_outros()),O[0]&525068){Q=C[2].filter(func_3);let B;for(B=0;B<Q.length;B+=1){const ve=get_each_context_1(C,Q,B);J[B]?(J[B].p(ve,O),transition_in(J[B],1)):(J[B]=create_each_block_1(ve),J[B].c(),transition_in(J[B],1),J[B].m(S,null))}for(group_outros(),B=Q.length;B<J.length;B+=1)ee(B);check_outros()}const Pe={};if(O[0]&4096&&(Pe.user=C[12]),O[0]&1024&&(Pe.hasTurn=!C[10]),te.$set(Pe),O[0]&516){me=C[2].filter(func_4);let B;for(B=0;B<me.length;B+=1){const ve=get_each_context(C,me,B);X[B]?(X[B].p(ve,O),transition_in(X[B],1)):(X[B]=create_each_block(ve),X[B].c(),transition_in(X[B],1),X[B].m(ie,ce))}for(group_outros(),B=me.length;B<X.length;B+=1)j(B);check_outros()}(!pe||O[0]&4)&&he!==(he=C[2].filter(func_5).length+"")&&set_data(fe,he)},i(C){if(!pe){transition_in(e.$$.fragment,C),transition_in(Z),transition_in(E),transition_in(p.$$.fragment,C);for(let O=0;O<V.length;O+=1)transition_in(M[O]);transition_in(w.$$.fragment,C);for(let O=0;O<ue.length;O+=1)transition_in(T[O]);for(let O=0;O<_e.length;O+=1)transition_in(x[O]);for(let O=0;O<se.length;O+=1)transition_in(I[O]);for(let O=0;O<Q.length;O+=1)transition_in(J[O]);transition_in(te.$$.fragment,C);for(let O=0;O<me.length;O+=1)transition_in(X[O]);pe=!0}},o(C){transition_out(e.$$.fragment,C),transition_out(Z),transition_out(E),transition_out(p.$$.fragment,C),M=M.filter(Boolean);for(let O=0;O<M.length;O+=1)transition_out(M[O]);transition_out(w.$$.fragment,C);for(let O=0;O<x.length;O+=1)transition_out(x[O]);for(let O=0;O<I.length;O+=1)transition_out(I[O]);J=J.filter(Boolean);for(let O=0;O<J.length;O+=1)transition_out(J[O]);transition_out(te.$$.fragment,C),X=X.filter(Boolean);for(let O=0;O<X.length;O+=1)transition_out(X[O]);pe=!1},d(C){destroy_component(e,C),C&&detach(r),Z&&Z.d(C),C&&detach(n),E&&E.d(C),C&&detach(i),C&&detach(c),destroy_component(p),destroy_each(M,C),destroy_component(w);for(let O=0;O<T.length;O+=1)T[O].d();for(let O=0;O<x.length;O+=1)x[O].d();for(let O=0;O<I.length;O+=1)I[O].d();destroy_each(J,C),destroy_component(te),destroy_each(X,C)}}}let gameState="initial";const func=t=>t===null,func_1=t=>t===null,func_2=t=>t!=null&&t!=-1,func_3=t=>t!=null&&t!=-1,func_4=t=>t===null,func_5=t=>t===null;function instance$1(t,e,r){const n=useNavigate();let i=!1,c=[null,null,null,null,null,null,null,null,null],l=[null,null,null,null,null,null,null,null,null],f=[],p=[],_=[],m=[],d=null,y=!0,v=!1,b=!1,k=!1,S,w={},T={},A,L,x=!1,H="";echo.channel("opponent_quit."+localStorage.getItem("hashedToken")).listen("Quit",E=>{E.quit&&(leaveChannel("opponent_quit."+localStorage.getItem("hashedToken")),r(0,i=!0))}),echo.channel("gameover."+localStorage.getItem("hashedToken")).listen("GameOverEvent",E=>{r(13,x=!0),r(14,H=E.message),leaveChannel("gameover."+localStorage.getItem("hashedToken"))}),echo.channel("move."+localStorage.getItem("hashedToken")).listen("MoveEvent",E=>{let V=E.oldPos==null?null:Number(E.oldPos);if(Number(E.newPos)==-1){let de=c.indexOf(V);r(1,c[de]=Number(E.newPos),c)}else{let de=l.indexOf(V);r(2,l[de]=Number(E.newPos),l)}r(10,k=!E.waitForDelete),leaveChannel("move."+localStorage.getItem("hashedToken"))}),onMount(()=>{AuthorizedGetRequest("game/data").then(E=>{for(r(9,b=E.user.is_white),r(10,k=E.user.has_turn),r(11,w=E.user),r(12,T=E.opponent),A=E.white_moves,L=E.black_moves,S=E.user.deletion_token,b==!0?(r(1,c=A),r(2,l=L)):(r(1,c=L),r(2,l=A));c.length<9;)c.push(null);for(;l.length<9;)l.push(null);S!=""&&(r(8,v=!0),r(6,d=null),r(3,f=GetStonesInMill(l))),c.includes(null)?r(7,y=!0):r(7,y=!1)}).catch()});function F(){p=[],r(4,_=[]),r(5,m=[])}function I(E){F();let V=c.concat(l);if(c.filter(M=>M!=-1).length>3){r(4,_=getPossibleMoves(E,V)),p=getAllMoves(E);for(let M=0;M<p.length;M++)m.push([E,p[M]]);r(6,d=E)}else{for(let M=0;M<24;M++)V.includes(M)||_.push(M);r(6,d=E)}}function z(E){r(1,c[c.indexOf(null)]=E,c),c.includes(null)||r(7,y=!1),AuthorizedGetRequest("game/stone/set/"+E).then(V=>{V!=""?(r(8,v=!0),S=V,r(3,f=GetStonesInMill(l))):r(10,k=!1)}).catch(V=>{console.log(V)})}async function R(E){if(d==null)return;console.log("Move method");let V=d;r(1,c=c.filter(M=>M!=V)),c.push(E),await AuthorizedRequest("game/stone/move",{old_position:V,new_position:E}).then(M=>{M?(r(8,v=!0),S=M,r(6,d=null),r(3,f=GetStonesInMill(l))):r(10,k=!1)}).catch(M=>{console.log(M)}),F()}async function W(E){await AuthorizedRequest("game/stone/delete",{position:E,deletion_token:S}).then(V=>{let M=l.indexOf(E);r(2,l[M]=-1,l),S="",r(10,k=!1),r(8,v=!1)}).catch(V=>{console.log(V)}),r(3,f=[])}async function U(){AuthorizedGetRequest("game/quit").then(()=>{n("/home")}).catch(E=>{console.log(E)})}return[i,c,l,f,_,m,d,y,v,b,k,w,T,x,H,n,I,z,R,W,U,()=>{n("/home")},()=>r(0,i=!1),()=>{n("/home")},()=>r(0,i=!1),E=>z(E),E=>R(E),E=>I(E),E=>W(E)]}class GamePage extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$2,safe_not_equal,{},null,[-1,-1])}}function create_if_block(t){let e,r;return e=new Modal({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),e.$on("close",t[1]),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&8&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_6(t){let e;return{c(){e=text("Login")},m(r,n){insert(r,e,n)},d(r){r&&detach(e)}}}function create_default_slot_5(t){let e;return{c(){e=text("Register")},m(r,n){insert(r,e,n)},d(r){r&&detach(e)}}}function create_default_slot_4$1(t){let e,r,n,i;return e=new Tab({props:{$$slots:{default:[create_default_slot_6]},$$scope:{ctx:t}}}),n=new Tab({props:{$$slots:{default:[create_default_slot_5]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment),r=space(),create_component(n.$$.fragment)},m(c,l){mount_component(e,c,l),insert(c,r,l),mount_component(n,c,l),i=!0},p(c,l){const f={};l&8&&(f.$$scope={dirty:l,ctx:c}),e.$set(f);const p={};l&8&&(p.$$scope={dirty:l,ctx:c}),n.$set(p)},i(c){i||(transition_in(e.$$.fragment,c),transition_in(n.$$.fragment,c),i=!0)},o(c){transition_out(e.$$.fragment,c),transition_out(n.$$.fragment,c),i=!1},d(c){destroy_component(e,c),c&&detach(r),destroy_component(n,c)}}}function create_default_slot_3$1(t){let e,r;return e=new LoginPanel({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_2$1(t){let e,r;return e=new RegisterPanel({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_1$1(t){let e,r,n,i,c,l;return e=new TabList({props:{$$slots:{default:[create_default_slot_4$1]},$$scope:{ctx:t}}}),n=new TabPanel({props:{$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:t}}}),c=new TabPanel({props:{$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment),r=space(),create_component(n.$$.fragment),i=space(),create_component(c.$$.fragment)},m(f,p){mount_component(e,f,p),insert(f,r,p),mount_component(n,f,p),insert(f,i,p),mount_component(c,f,p),l=!0},p(f,p){const _={};p&8&&(_.$$scope={dirty:p,ctx:f}),e.$set(_);const m={};p&8&&(m.$$scope={dirty:p,ctx:f}),n.$set(m);const d={};p&8&&(d.$$scope={dirty:p,ctx:f}),c.$set(d)},i(f){l||(transition_in(e.$$.fragment,f),transition_in(n.$$.fragment,f),transition_in(c.$$.fragment,f),l=!0)},o(f){transition_out(e.$$.fragment,f),transition_out(n.$$.fragment,f),transition_out(c.$$.fragment,f),l=!1},d(f){destroy_component(e,f),f&&detach(r),destroy_component(n,f),f&&detach(i),destroy_component(c,f)}}}function create_default_slot$1(t){let e,r;return e=new Tabs({props:{$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,i){const c={};i&8&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_fragment$1(t){let e,r,n=t[0]&&create_if_block(t);return{c(){n&&n.c(),e=empty()},m(i,c){n&&n.m(i,c),insert(i,e,c),r=!0},p(i,[c]){i[0]?n?(n.p(i,c),c&1&&transition_in(n,1)):(n=create_if_block(i),n.c(),transition_in(n,1),n.m(e.parentNode,e)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(i){r||(transition_in(n),r=!0)},o(i){transition_out(n),r=!1},d(i){n&&n.d(i),i&&detach(e)}}}function instance(t,e,r){const n=useNavigate();let i=!1;return onMount(()=>{if(localStorage.getItem("token")===null){r(0,i=!0);return}let l=window.location.pathname;AuthorizedGetRequest("game/join/"+l.split("/")[3]).then(function(f){}).catch(f=>{console.log(f)}),n("/gamePage")}),[i,()=>r(0,i=!1)]}class LobbyPage extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment$1,safe_not_equal,{})}}function create_default_slot_4(t){let e,r;return e=new HomePage({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_3(t){let e,r;return e=new GamePage({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_2(t){let e,r;return e=new LobbyPage({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot_1(t){let e,r;return e=new LandingPage({}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_default_slot(t){let e,r,n,i,c,l,f,p,_;return r=new Route$1({props:{path:"home",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:t}}}),i=new Route$1({props:{path:"gamePage",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:t}}}),l=new Route$1({props:{path:"game/join/:id",$$slots:{default:[create_default_slot_2,({params:m})=>({0:m}),({params:m})=>m?1:0]},$$scope:{ctx:t}}}),p=new Route$1({props:{$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}}),{c(){e=element("main"),create_component(r.$$.fragment),n=space(),create_component(i.$$.fragment),c=space(),create_component(l.$$.fragment),f=space(),create_component(p.$$.fragment)},m(m,d){insert(m,e,d),mount_component(r,e,null),append(e,n),mount_component(i,e,null),append(e,c),mount_component(l,e,null),append(e,f),mount_component(p,e,null),_=!0},p(m,d){const y={};d&2&&(y.$$scope={dirty:d,ctx:m}),r.$set(y);const v={};d&2&&(v.$$scope={dirty:d,ctx:m}),i.$set(v);const b={};d&2&&(b.$$scope={dirty:d,ctx:m}),l.$set(b);const k={};d&2&&(k.$$scope={dirty:d,ctx:m}),p.$set(k)},i(m){_||(transition_in(r.$$.fragment,m),transition_in(i.$$.fragment,m),transition_in(l.$$.fragment,m),transition_in(p.$$.fragment,m),_=!0)},o(m){transition_out(r.$$.fragment,m),transition_out(i.$$.fragment,m),transition_out(l.$$.fragment,m),transition_out(p.$$.fragment,m),_=!1},d(m){m&&detach(e),destroy_component(r),destroy_component(i),destroy_component(l),destroy_component(p)}}}function create_fragment(t){let e,r;return e=new Router$1({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(n,i){mount_component(e,n,i),r=!0},p(n,[i]){const c={};i&2&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}class App extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
